// ==UserScript==
// @name        Eureka
// @description Universal scratch extension loader.
// @version     0.1.3
// @author      originally by SimonShiki forked by kokofixcomputers
// @match       https://scratch.mit.edu/projects/*
// @match       https://aerfaying.com/Projects/*
// @match       https://www.ccw.site/*
// @match       https://gitblock.cn/Projects/*
// @match       https://world.xiaomawang.com/*
// @match       https://cocrea.world/*
// @match       https://create.codelab.club/*
// @match       https://www.scratch-cn.cn/*
// @match       https://www.40code.com/*
// @match       https://turbowarp.org/*
// @match       https://codingclip.com/*
// @match       https://editor.turbowarp.cn/*
// @match       https://0832.ink/rc/*
// @match       https://code.xueersi.com/scratch3/*
// @match       https://play.creaticode.com/projects/*
// @match       https://www.adacraft.org/*
// @match       https://studio.penguinmod.com/*
// @match       https://code.xueersi.com/*
// @match       https://electramod.vercel.app/*
// @match       https://xplab.vercel.app/*
// @match       http://localhost:8601/*
// @downloadURL https://github.com/kokofixcomputers/eureka/raw/trunk/eureka-loader.user.js
// @grant       none
// @license     AGPL-3.0-only
// @namespace   EurekaLoader
// @run-at      document-start
// @source      https://github.com/kokofixcomputers/eureka
// @updateURL   https://github.com/kokofixcomputers/eureka/raw/trunk/eureka-loader.user.js
// ==/UserScript==

/*! For license information please see eureka-loader.js.LICENSE.txt */
(()=>{var n,r,e,t,a,o,i={723:(n,r,e)=>{"use strict";e.a(n,(async(n,r)=>{try{var t=e(882),a=e(510);(0,a.Rm)("eureka-loader ".concat("0.1.3")),(0,t.Jb)();var o=await(0,t.xK)();o?(window.eureka.vm=o,(0,t.Ns)(o),(0,t.st)(o).then((function(n){return(0,t.qN)(n)}))):(0,a.Rm)("Cannot find vm in this page, stop injecting."),r()}catch(n){r(n)}}),1)},882:(n,r,e)=>{"use strict";e.d(r,{st:()=>An,xK:()=>Pn,Jb:()=>Rn,qN:()=>Dn,Ns:()=>Cn});var t=e(510),a={convertProcCall:!0,dontExposeCtx:!1,noConfirmDialog:!1,sideloadOnly:!0},o="$EUREKA_SETTINGS";function i(){try{var n=window.localStorage.getItem(o);return n?JSON.parse(n):null}catch(n){return null}}window.localStorage.getItem(o)||window.localStorage.setItem(o,JSON.stringify(a));var c=new Proxy(a,{get:function(n,r){var e=i();return e&&r in e?Reflect.get(e,r):Reflect.get(n,r)},set:function(n,r,e){var t=i();return t||(t=Object.assign({},a)),Reflect.set(t,r,e),window.localStorage.setItem(o,JSON.stringify(t)),!0}});const l=function(n){if("string"!=typeof n){if(!Array.isArray(n))return t.z3("Unexpected input recieved in replaceUnsafeChars"),n;n=String(n)}return n.replace(/[<>&'"]/g,(function(n){switch(n){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}return""}))};var u=function(n){return n.ANGLE="angle",n.BOOLEAN="Boolean",n.COLOR="color",n.NUMBER="number",n.STRING="string",n.MATRIX="matrix",n.NOTE="note",n.IMAGE="image",n}(u||{}),s=function(n){return n.BOOLEAN="Boolean",n.BUTTON="button",n.COMMAND="command",n.CONDITIONAL="conditional",n.EVENT="event",n.HAT="hat",n.LABEL="label",n.LOOP="loop",n.REPORTER="reporter",n.XML="xml",n}(s||{}),f=function(n){return n.GLOBAL="global",n.TARGET="target",n}(f||{}),d=function(n){return n.SPRITE="sprite",n.STAGE="stage",n}(d||{}),h=e(132),p=e.n(h);function y(n){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},y(n)}var m=function(n,r,e){return n&&"object"===y(n)&&n.id&&n.default?p()(n,r,e):n};function v(n){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},v(n)}function b(n,r){return function(n){if(Array.isArray(n))return n}(n)||function(n,r){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var t,a,o,i,c=[],l=!0,u=!1;try{if(o=(e=e.call(n)).next,0===r){if(Object(e)!==e)return;l=!1}else for(;!(l=(t=o.call(e)).done)&&(c.push(t.value),c.length!==r);l=!0);}catch(n){u=!0,a=n}finally{try{if(!l&&null!=e.return&&(i=e.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(n,r)||g(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(n,r){if(n){if("string"==typeof n)return w(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?w(n,r):void 0}}function w(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}function x(n,r){for(var e=0;e<r.length;e++){var t=r[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,E(t.key),t)}}function k(n,r,e){return(r=E(r))in n?Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[r]=e,n}function E(n){var r=function(n,r){if("object"!=v(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=v(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==v(r)?r:r+""}function S(n){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},S(n)}function O(n,r){for(var e=0;e<r.length;e++){var t=r[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,A(t.key),t)}}function L(n,r,e){return r=M(r),function(n,r){if(r&&("object"===S(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}(n,j()?Reflect.construct(r,e||[],M(n).constructor):r.apply(n,e))}function j(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(n){}return(j=function(){return!!n})()}function M(n){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},M(n)}function _(n,r){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},_(n,r)}function I(n,r,e){return(r=A(r))in n?Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[r]=e,n}function A(n){var r=function(n,r){if("object"!=S(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=S(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==S(r)?r:r+""}var T=new(function(n){function r(){var n;return function(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),I(n=L(this,r),"workerClass","undefined"==typeof Worker?null:Worker),I(n,"workers",[]),n.services={},n}return function(n,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&_(n,r)}(r,n),e=r,t=[{key:"callSync",value:function(n,r){var e=this._getServiceProvider(n),t=e.provider,a=e.isRemote;if(t){if(a)throw new Error("Cannot use 'callSync' on remote provider for service ".concat(n,"."));for(var o=arguments.length,i=new Array(o>2?o-2:0),c=2;c<o;c++)i[c-2]=arguments[c];return t[r].apply(t,i)}throw new Error("Provider not found for service: ".concat(n))}},{key:"setServiceSync",value:function(n,r){Object.prototype.hasOwnProperty.call(this.services,n)&&console.warn("Central dispatch replacing existing service provider for ".concat(n)),this.services[n]=r}},{key:"setService",value:function(n,r){try{return this.setServiceSync(n,r),Promise.resolve()}catch(n){return Promise.reject(n)}}},{key:"addWorker",value:function(n){-1===this.workers.indexOf(n)?(this.workers.push(n),n.onmessage=this._onMessage.bind(this,n),this._remoteCall(n,"dispatch","handshake").catch((function(n){console.error("Could not handshake with worker: ".concat(n))}))):console.warn("Central dispatch ignoring attempt to add duplicate worker")}},{key:"_getServiceProvider",value:function(n){var r=this.services[n];return r&&{provider:r,isRemote:Boolean(this.workerClass&&r instanceof this.workerClass||r.isRemote)}}},{key:"_onDispatchMessage",value:function(n,r){var e;switch(r.method){case"setService":if(!r.args){console.error("setService received empty argument");break}e=this.setService(String(r.args[0]),n);break;default:console.error("Central dispatch received message for unknown method: ".concat(r.method))}return e}}],t&&O(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(function(){return n=function n(){!function(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}(this,n),k(this,"callbacks",[]),k(this,"nextResponseId",0)},r=[{key:"call",value:function(n,r){for(var e=arguments.length,t=new Array(e>2?e-2:0),a=2;a<e;a++)t[a-2]=arguments[a];return this.transferCall.apply(this,[n,r,null].concat(t))}},{key:"transferCall",value:function(n,r,e){try{var t=this._getServiceProvider(n),a=t.provider,o=t.isRemote;if(a){for(var i=arguments.length,c=new Array(i>3?i-3:0),l=3;l<i;l++)c[l-3]=arguments[l];if(o)return this._remoteTransferCall.apply(this,[a,n,r,e].concat(c));var u=a[r].apply(a,c);return Promise.resolve(u)}return Promise.reject(new Error("Service not found: ".concat(n)))}catch(n){return Promise.reject(n)}}},{key:"_isRemoteService",value:function(n){return this._getServiceProvider(n).isRemote}},{key:"_remoteCall",value:function(n,r,e){for(var t=arguments.length,a=new Array(t>3?t-3:0),o=3;o<t;o++)a[o-3]=arguments[o];return this._remoteTransferCall.apply(this,[n,r,e,null].concat(a))}},{key:"_remoteTransferCall",value:function(n,r,e,t){for(var a=this,o=arguments.length,i=new Array(o>4?o-4:0),c=4;c<o;c++)i[c-4]=arguments[c];return new Promise((function(o,c){var l=a._storeCallbacks(o,c);i&&(i=a._purifyObject(i)),t?n.postMessage({service:r,method:e,responseId:l,args:i},t):n.postMessage({service:r,method:e,responseId:l,args:i})}))}},{key:"_storeCallbacks",value:function(n,r){var e=this.nextResponseId++;return this.callbacks[e]=[n,r],e}},{key:"_deliverResponse",value:function(n,r){try{var e=b(this.callbacks[n],2),t=e[0],a=e[1];delete this.callbacks[n],r.error?a(r.error):t(r.result)}catch(n){console.error("Dispatch callback failed: ".concat(n))}}},{key:"_onMessage",value:function(n,r){var e=r.data;e.args=e.args||[];var t,a=void 0;e.service?a="dispatch"===e.service?this._onDispatchMessage(n,e):this.call.apply(this,[e.service,e.method].concat(function(n){if(Array.isArray(n))return w(n)}(t=e.args)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(t)||g(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())):void 0===e.responseId?console.error("Dispatch caught malformed message from a worker: ".concat(JSON.stringify(r))):this._deliverResponse(e.responseId,e),a&&(void 0===e.responseId?console.error("Dispatch message missing required response ID: ".concat(JSON.stringify(r))):a.then((function(r){return n.postMessage({responseId:e.responseId,result:r})}),(function(r){return n.postMessage({responseId:e.responseId,error:"".concat(r)})})))}},{key:"_getServiceProvider",value:function(n){throw new Error("Could not get provider for ".concat(n,": _getServiceProvider not implemented"))}},{key:"_onDispatchMessage",value:function(n,r){throw new Error("Unimplemented dispatch message handler cannot handle ".concat(r.method," method"))}},{key:"_purifyObject",value:function(n){var r=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if("function"!=typeof n&&"symbol"!==v(n)){if(null!==n&&"object"===v(n)){if(e.has(n))return;if(e.add(n),Array.isArray(n))return n.map((function(n){return r._purifyObject(n,e,t+1)}));for(var a={},o=0,i=Object.entries(n);o<i.length;o++){var c=b(i[o],2),l=c[0],u=c[1];a[l]=this._purifyObject(u,e,t+1)}return a}return n}}}],r&&x(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}()));function R(n){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},R(n)}function P(n,r){for(var e=0;e<r.length;e++){var t=r[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,N(t.key),t)}}function N(n){var r=function(n,r){if("object"!=R(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=R(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==R(r)?r:r+""}const C=function(){function n(){!function(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}(this,n)}return r=n,e=[{key:"RGB_BLACK",get:function(){return{r:0,g:0,b:0}}},{key:"RGB_WHITE",get:function(){return{r:255,g:255,b:255}}},{key:"decimalToHex",value:function(n){n<0&&(n+=16777216);var r=Number(n).toString(16);return"#".concat("000000".substr(0,6-r.length)).concat(r)}},{key:"decimalToRgb",value:function(n){var r=n>>24&255;return{r:n>>16&255,g:n>>8&255,b:255&n,a:r>0?r:255}}},{key:"hexToRgb",value:function(n){n.startsWith("#")&&(n=n.substring(1));var r=parseInt(n,16);if(isNaN(r))return null;if(6===n.length)return{r:r>>16&255,g:r>>8&255,b:255&r};if(3===n.length){var e=r>>8&15,t=r>>4&15,a=15&r;return{r:e<<4|e,g:t<<4|t,b:a<<4|a}}return null}},{key:"rgbToHex",value:function(r){return n.decimalToHex(n.rgbToDecimal(r))}},{key:"rgbToDecimal",value:function(n){if(null===n)throw new Error("rgb must be an RGBObject");return(n.r<<16)+(n.g<<8)+n.b}},{key:"hexToDecimal",value:function(r){return n.rgbToDecimal(n.hexToRgb(r))}},{key:"hsvToRgb",value:function(n){var r=n.h%360;r<0&&(r+=360);var e,t,a,o=Math.max(0,Math.min(n.s,1)),i=Math.max(0,Math.min(n.v,1)),c=Math.floor(r/60),l=r/60-c,u=i*(1-o),s=i*(1-o*l),f=i*(1-o*(1-l));switch(c){default:case 0:e=i,t=f,a=u;break;case 1:e=s,t=i,a=u;break;case 2:e=u,t=i,a=f;break;case 3:e=u,t=s,a=i;break;case 4:e=f,t=u,a=i;break;case 5:e=i,t=u,a=s}return{r:Math.floor(255*e),g:Math.floor(255*t),b:Math.floor(255*a)}}},{key:"rgbToHsv",value:function(n){var r=n.r/255,e=n.g/255,t=n.b/255,a=Math.min(Math.min(r,e),t),o=Math.max(Math.max(r,e),t),i=0,c=0;return a!==o&&(i=60*((r===a?3:e===a?5:1)-(r===a?e-t:e===a?t-r:r-e)/(o-a))%360,c=(o-a)/o),{h:i,s:c,v:o}}},{key:"mixRgb",value:function(n,r,e){if(e<=0)return n;if(e>=1)return r;var t=1-e;return{r:t*n.r+e*r.r,g:t*n.g+e*r.g,b:t*n.b+e*r.b}}}],null&&P(r.prototype,null),e&&P(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e}();function D(n){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},D(n)}function U(n,r){for(var e=0;e<r.length;e++){var t=r[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,F(t.key),t)}}function F(n){var r=function(n,r){if("object"!=D(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=D(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==D(r)?r:r+""}var B=function(n){if("string"!=typeof n)return!1;for(var r=0;r<n.length;r++){var e=n.charCodeAt(r);if(48===e||9===e)return!1}return!0},G=function(){function n(){!function(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}(this,n)}return r=n,e=[{key:"toNumber",value:function(n){if("number"==typeof n)return Number.isNaN(n)?0:n;var r=Number(n);return Number.isNaN(r)?0:r}},{key:"toBoolean",value:function(n){return"boolean"==typeof n?n:"string"==typeof n?""!==n&&"0"!==n&&"false"!==n.toLowerCase():Boolean(n)}},{key:"toString",value:function(n){return String(n)}},{key:"toRgbColorList",value:function(r){var e=n.toRgbColorObject(r);return[e.r,e.g,e.b]}},{key:"toRgbColorObject",value:function(r){var e;return"string"==typeof r&&"#"===r.substring(0,1)?(e=C.hexToRgb(r))||(e={r:0,g:0,b:0,a:255}):e=C.decimalToRgb(n.toNumber(r)),e}},{key:"isWhiteSpace",value:function(n){return null===n||"string"==typeof n&&0===n.trim().length}},{key:"compare",value:function(n,r){var e=Number(n),t=Number(r);if(0===e&&B(n)?e=NaN:0===t&&B(r)&&(t=NaN),isNaN(e)||isNaN(t)){var a=String(n).toLowerCase(),o=String(r).toLowerCase();return a<o?-1:a>o?1:0}return e===1/0&&t===1/0||e===-1/0&&t===-1/0?0:e-t}},{key:"isInt",value:function(n){return"number"==typeof n?!!isNaN(n)||n===Math.floor(n):"boolean"==typeof n||"string"==typeof n&&n.indexOf(".")<0}},{key:"LIST_INVALID",get:function(){return"INVALID"}},{key:"LIST_ALL",get:function(){return"ALL"}},{key:"toListIndex",value:function(r,e,t){if("number"!=typeof r){if("all"===r)return t?n.LIST_ALL:n.LIST_INVALID;if("last"===r)return e>0?e:n.LIST_INVALID;if("random"===r||"any"===r)return e>0?1+Math.floor(Math.random()*e):n.LIST_INVALID}return(r=Math.floor(n.toNumber(r)))<1||r>e?n.LIST_INVALID:r}}],null&&U(r.prototype,null),e&&U(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e}();function W(n){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},W(n)}function z(n){var r=p().namespace(),e=function(n,e){if(n&&"object"===W(n));else{if("string"!=typeof n)throw new Error("unsupported data type in translate()");n={default:n}}return r(n,e)},t=function(n){return"_".concat(n)},a=function(){return n?n.getLocale():"undefined"!=typeof navigator?navigator.language:"en"},o={};return e.setup=function(n){n&&(o=n),r.setup({locale:a(),missingTranslation:"ignore",generateId:t,translations:o})},e.setup({}),n&&n.on("LOCALE_CHANGED",(function(){e.setup(null)})),Object.defineProperty(e,"language",{configurable:!0,enumerable:!0,get:function(){return a()}}),e}function K(n){var r={ArgumentType:u,BlockType:s,TargetType:d,ReporterScope:f,Cast:G,extensions:{register:function(){throw new Error("not implemented")},unsandboxed:!!n,chibi:!0,eureka:!0},translate:z(n),fetch:function(n){function r(r,e){return n.apply(this,arguments)}return r.toString=function(){return n.toString()},r}((function(n,r){return fetch(n,r)})),canFetch:function(n){var r=function(n){try{return new URL(n,location.href)}catch(n){return null}}(n);return!!r}};return n&&(r.vm=n,r.renderer=n.runtime.renderer),r}var V=e(183),H=e.n(V);function J(){return H()('// ==UserScript==\n// @name        Eureka\n// @description Universal scratch extension loader.\n// @version     0.1.3\n// @author      originally by SimonShiki forked by kokofixcomputers\n// @match       https://scratch.mit.edu/projects/*\n// @match       https://aerfaying.com/Projects/*\n// @match       https://www.ccw.site/*\n// @match       https://gitblock.cn/Projects/*\n// @match       https://world.xiaomawang.com/*\n// @match       https://cocrea.world/*\n// @match       https://create.codelab.club/*\n// @match       https://www.scratch-cn.cn/*\n// @match       https://www.40code.com/*\n// @match       https://turbowarp.org/*\n// @match       https://codingclip.com/*\n// @match       https://editor.turbowarp.cn/*\n// @match       https://0832.ink/rc/*\n// @match       https://code.xueersi.com/scratch3/*\n// @match       https://play.creaticode.com/projects/*\n// @match       https://www.adacraft.org/*\n// @match       https://studio.penguinmod.com/*\n// @match       https://code.xueersi.com/*\n// @match       https://electramod.vercel.app/*\n// @match       https://xplab.vercel.app/*\n// @match       http://localhost:8601/*\n// @downloadURL https://github.com/kokofixcomputers/eureka/raw/trunk/eureka-loader.user.js\n// @grant       none\n// @license     AGPL-3.0-only\n// @namespace   EurekaLoader\n// @run-at      document-start\n// @source      https://github.com/kokofixcomputers/eureka\n// @updateURL   https://github.com/kokofixcomputers/eureka/raw/trunk/eureka-loader.user.js\n// ==/UserScript==\n\n(()=>{var n={541:n=>{var r="long",e="short",t="narrow",a="numeric",i="2-digit";n.exports={number:{decimal:{style:"decimal"},integer:{style:"decimal",maximumFractionDigits:0},currency:{style:"currency",currency:"USD"},percent:{style:"percent"},default:{style:"decimal"}},date:{short:{month:a,day:a,year:i},medium:{month:e,day:a,year:a},long:{month:r,day:a,year:a},full:{month:r,day:a,year:a,weekday:r},default:{month:e,day:a,year:a}},time:{short:{hour:a,minute:a},medium:{hour:a,minute:a,second:a},long:{hour:a,minute:a,second:a,timeZoneName:e},full:{hour:a,minute:a,second:a,timeZoneName:e},default:{hour:a,minute:a,second:a}},duration:{default:{hours:{minimumIntegerDigits:1,maximumFractionDigits:0},minutes:{minimumIntegerDigits:2,maximumFractionDigits:0},seconds:{minimumIntegerDigits:2,maximumFractionDigits:3}}},parseNumberPattern:function(n){if(n){var r={},e=n.match(/\\b[A-Z]{3}\\b/i),t=n.replace(/[^¤]/g,"").length;if(!t&&e&&(t=1),t?(r.style="currency",r.currencyDisplay=1===t?"symbol":2===t?"code":"name",r.currency=e?e[0].toUpperCase():"USD"):n.indexOf("%")>=0&&(r.style="percent"),!/[@#0]/.test(n))return r.style?r:void 0;if(r.useGrouping=n.indexOf(",")>=0,/E\\+?[@#0]+/i.test(n)||n.indexOf("@")>=0){var a=n.replace(/E\\+?[@#0]+|[^@#0]/gi,"");r.minimumSignificantDigits=Math.min(Math.max(a.replace(/[^@0]/g,"").length,1),21),r.maximumSignificantDigits=Math.min(Math.max(a.length,1),21)}else{for(var i=n.replace(/[^#0.]/g,"").split("."),o=i[0],l=o.length-1;"0"===o[l];)--l;r.minimumIntegerDigits=Math.min(Math.max(o.length-1-l,1),21);var u=i[1]||"";for(l=0;"0"===u[l];)++l;for(r.minimumFractionDigits=Math.min(Math.max(l,0),20);"#"===u[l];)++l;r.maximumFractionDigits=Math.min(Math.max(l,0),20)}return r}},parseDatePattern:function(n){if(n){for(var o={},l=0;l<n.length;){for(var u=n[l],c=1;n[++l]===u;)++c;switch(u){case"G":o.era=5===c?t:4===c?r:e;break;case"y":case"Y":o.year=2===c?i:a;break;case"M":case"L":c=Math.min(Math.max(c-1,0),4),o.month=[a,i,e,r,t][c];break;case"E":case"e":case"c":o.weekday=5===c?t:4===c?r:e;break;case"d":case"D":o.day=2===c?i:a;break;case"h":case"K":o.hour12=!0,o.hour=2===c?i:a;break;case"H":case"k":o.hour12=!1,o.hour=2===c?i:a;break;case"m":o.minute=2===c?i:a;break;case"s":case"S":o.second=2===c?i:a;break;case"z":case"Z":case"v":case"V":o.timeZoneName=1===c?e:r}}return Object.keys(o).length?o:void 0}}}},280:(n,r,e)=>{"use strict";var t=e(541),a=e(450),i=e(235);function o(n,r,e,t,a){var i=n.map((function(n){return function(n,r,e,t,a){if("string"==typeof n){var i=n;return function(){return i}}var u,c=n[0],s=n[1];if(r&&"#"===n[0]){c=r[0];var f=r[2],h=(t.number||d.number)([c,"number"],e);return function(n){return h(l(c,n)-f,n)}}"plural"===s||"selectordinal"===s?(u={},Object.keys(n[3]).forEach((function(r){u[r]=o(n[3][r],n,e,t,a)})),n=[n[0],n[1],n[2],u]):n[2]&&"object"==typeof n[2]&&(u={},Object.keys(n[2]).forEach((function(r){u[r]=o(n[2][r],n,e,t,a)})),n=[n[0],n[1],u]);var p=s&&(t[s]||d[s]);if(p){var m=p(n,e);return function(n){return m(l(c,n),n)}}return a?function(n){return String(l(c,n))}:function(n){return l(c,n)}}(n,r,e,t,a)}));return a?1===i.length?i[0]:function(n){for(var r="",e=0;e<i.length;++e)r+=i[e](n);return r}:function(n){return i.reduce((function(r,e){return r.concat(e(n))}),[])}}function l(n,r){if(r&&n in r)return r[n];for(var e=n.split("."),t=r,a=0,i=e.length;t&&a<i;++a)t=t[e[a]];return t}function u(n,r){var e=n[2],a=t.number[e]||t.parseNumberPattern(e)||t.number.default;return new Intl.NumberFormat(r,a).format}function c(n,r){var e=n[1],a=n[2],i=t[e][a]||t.parseDatePattern(a)||t[e].default;return new Intl.DateTimeFormat(r,i).format}function s(n,r){var e,t="selectordinal"===n[1]?"ordinal":"cardinal",o=n[2],l=n[3];if(Intl.PluralRules&&Intl.PluralRules.supportedLocalesOf(r).length>0)e=new Intl.PluralRules(r,{type:t});else{var u=a(r,i),c=u&&i[u][t]||f;e={select:c}}return function(n,r){return(l["="+ +n]||l[e.select(n-o)]||l.other)(r)}}function f(){return"other"}(r=n.exports=function(n,r,e){return o(n,null,r||"en",e||{},!0)}).toParts=function(n,r,e){return o(n,null,r||"en",e||{},!1)};var d={number:u,ordinal:u,spellout:u,duration:function(n,r){var e=n[2],a=t.duration[e]||t.duration.default,i=new Intl.NumberFormat(r,a.seconds).format,o=new Intl.NumberFormat(r,a.minutes).format,l=new Intl.NumberFormat(r,a.hours).format,u=/^fi$|^fi-|^da/.test(String(r))?".":":";return function(n,r){if(n=+n,!isFinite(n))return i(n);var e=~~(n/60/60),t=~~(n/60%60),a=(e?l(Math.abs(e))+u:"")+o(Math.abs(t))+u+i(Math.abs(n%60));return n<0?l(-1).replace(l(1),a):a}},date:c,time:c,plural:s,selectordinal:s,select:function(n,r){var e=n[2];return function(n,r){return(e[n]||e.other)(r)}}};r.types=d},235:n=>{"use strict";var r="zero",e="one",t="two",a="few",i="many",o="other",l=[function(n){return 1==+n?e:o},function(n){var r=+n;return 0<=r&&r<=1?e:o},function(n){return 0===Math.floor(Math.abs(+n))||1==+n?e:o},function(n){var l=+n;return 0===l?r:1===l?e:2===l?t:3<=l%100&&l%100<=10?a:11<=l%100&&l%100<=99?i:o},function(n){var r=Math.floor(Math.abs(+n)),t=(n+".").split(".")[1].length;return 1===r&&0===t?e:o},function(n){var r=+n;return r%10==1&&r%100!=11?e:2<=r%10&&r%10<=4&&(r%100<12||14<r%100)?a:r%10==0||5<=r%10&&r%10<=9||11<=r%100&&r%100<=14?i:o},function(n){var r=+n;return r%10==1&&r%100!=11&&r%100!=71&&r%100!=91?e:r%10==2&&r%100!=12&&r%100!=72&&r%100!=92?t:(3<=r%10&&r%10<=4||r%10==9)&&(r%100<10||19<r%100)&&(r%100<70||79<r%100)&&(r%100<90||99<r%100)?a:0!==r&&r%1e6==0?i:o},function(n){var r=Math.floor(Math.abs(+n)),t=(n+".").split(".")[1].length,i=+(n+".").split(".")[1];return 0===t&&r%10==1&&r%100!=11||i%10==1&&i%100!=11?e:0===t&&2<=r%10&&r%10<=4&&(r%100<12||14<r%100)||2<=i%10&&i%10<=4&&(i%100<12||14<i%100)?a:o},function(n){var r=Math.floor(Math.abs(+n)),t=(n+".").split(".")[1].length;return 1===r&&0===t?e:2<=r&&r<=4&&0===t?a:0!==t?i:o},function(n){var l=+n;return 0===l?r:1===l?e:2===l?t:3===l?a:6===l?i:o},function(n){var r=Math.floor(Math.abs(+n)),t=+(""+n).replace(/^[^.]*.?|0+$/g,"");return 1==+n||0!==t&&(0===r||1===r)?e:o},function(n){var r=Math.floor(Math.abs(+n)),i=(n+".").split(".")[1].length,l=+(n+".").split(".")[1];return 0===i&&r%100==1||l%100==1?e:0===i&&r%100==2||l%100==2?t:0===i&&3<=r%100&&r%100<=4||3<=l%100&&l%100<=4?a:o},function(n){var r=Math.floor(Math.abs(+n));return 0===r||1===r?e:o},function(n){var r=Math.floor(Math.abs(+n)),t=(n+".").split(".")[1].length,a=+(n+".").split(".")[1];return 0===t&&(1===r||2===r||3===r)||0===t&&r%10!=4&&r%10!=6&&r%10!=9||0!==t&&a%10!=4&&a%10!=6&&a%10!=9?e:o},function(n){var r=+n;return 1===r?e:2===r?t:3<=r&&r<=6?a:7<=r&&r<=10?i:o},function(n){var r=+n;return 1===r||11===r?e:2===r||12===r?t:3<=r&&r<=10||13<=r&&r<=19?a:o},function(n){var r=Math.floor(Math.abs(+n)),l=(n+".").split(".")[1].length;return 0===l&&r%10==1?e:0===l&&r%10==2?t:0!==l||r%100!=0&&r%100!=20&&r%100!=40&&r%100!=60&&r%100!=80?0!==l?i:o:a},function(n){var r=Math.floor(Math.abs(+n)),a=(n+".").split(".")[1].length,l=+n;return 1===r&&0===a?e:2===r&&0===a?t:0===a&&(l<0||10<l)&&l%10==0?i:o},function(n){var r=Math.floor(Math.abs(+n)),t=+(""+n).replace(/^[^.]*.?|0+$/g,"");return 0===t&&r%10==1&&r%100!=11||0!==t?e:o},function(n){var r=+n;return 1===r?e:2===r?t:o},function(n){var t=+n;return 0===t?r:1===t?e:o},function(n){var t=Math.floor(Math.abs(+n)),a=+n;return 0===a?r:0!==t&&1!==t||0===a?o:e},function(n){var r=+(n+".").split(".")[1],t=+n;return t%10==1&&(t%100<11||19<t%100)?e:2<=t%10&&t%10<=9&&(t%100<11||19<t%100)?a:0!==r?i:o},function(n){var t=(n+".").split(".")[1].length,a=+(n+".").split(".")[1],i=+n;return i%10==0||11<=i%100&&i%100<=19||2===t&&11<=a%100&&a%100<=19?r:i%10==1&&i%100!=11||2===t&&a%10==1&&a%100!=11||2!==t&&a%10==1?e:o},function(n){var r=Math.floor(Math.abs(+n)),t=(n+".").split(".")[1].length,a=+(n+".").split(".")[1];return 0===t&&r%10==1&&r%100!=11||a%10==1&&a%100!=11?e:o},function(n){var r=Math.floor(Math.abs(+n)),t=(n+".").split(".")[1].length,i=+n;return 1===r&&0===t?e:0!==t||0===i||1!==i&&1<=i%100&&i%100<=19?a:o},function(n){var r=+n;return 1===r?e:0===r||2<=r%100&&r%100<=10?a:11<=r%100&&r%100<=19?i:o},function(n){var r=Math.floor(Math.abs(+n)),t=(n+".").split(".")[1].length;return 1===r&&0===t?e:0===t&&2<=r%10&&r%10<=4&&(r%100<12||14<r%100)?a:0===t&&1!==r&&0<=r%10&&r%10<=1||0===t&&5<=r%10&&r%10<=9||0===t&&12<=r%100&&r%100<=14?i:o},function(n){var r=Math.floor(Math.abs(+n));return 0<=r&&r<=1?e:o},function(n){var r=Math.floor(Math.abs(+n)),t=(n+".").split(".")[1].length;return 0===t&&r%10==1&&r%100!=11?e:0===t&&2<=r%10&&r%10<=4&&(r%100<12||14<r%100)?a:0===t&&r%10==0||0===t&&5<=r%10&&r%10<=9||0===t&&11<=r%100&&r%100<=14?i:o},function(n){var r=+n;return 0===Math.floor(Math.abs(+n))||1===r?e:2<=r&&r<=10?a:o},function(n){var r=Math.floor(Math.abs(+n)),t=+(n+".").split(".")[1],a=+n;return 0===a||1===a||0===r&&1===t?e:o},function(n){var r=Math.floor(Math.abs(+n)),i=(n+".").split(".")[1].length;return 0===i&&r%100==1?e:0===i&&r%100==2?t:0===i&&3<=r%100&&r%100<=4||0!==i?a:o},function(n){var r=+n;return 0<=r&&r<=1||11<=r&&r<=99?e:o},function(n){var r=+n;return 1===r||5===r||7===r||8===r||9===r||10===r?e:2===r||3===r?t:4===r?a:6===r?i:o},function(n){var r=Math.floor(Math.abs(+n));return r%10==1||r%10==2||r%10==5||r%10==7||r%10==8||r%100==20||r%100==50||r%100==70||r%100==80?e:r%10==3||r%10==4||r%1e3==100||r%1e3==200||r%1e3==300||r%1e3==400||r%1e3==500||r%1e3==600||r%1e3==700||r%1e3==800||r%1e3==900?a:0===r||r%10==6||r%100==40||r%100==60||r%100==90?i:o},function(n){var r=+n;return r%10!=2&&r%10!=3||r%100==12||r%100==13?o:a},function(n){var r=+n;return 1===r||3===r?e:2===r?t:4===r?a:o},function(n){var l=+n;return 0===l||7===l||8===l||9===l?r:1===l?e:2===l?t:3===l||4===l?a:5===l||6===l?i:o},function(n){var r=+n;return r%10==1&&r%100!=11?e:r%10==2&&r%100!=12?t:r%10==3&&r%100!=13?a:o},function(n){var r=+n;return 1===r||11===r?e:2===r||12===r?t:3===r||13===r?a:o},function(n){var r=+n;return 1===r?e:2===r||3===r?t:4===r?a:6===r?i:o},function(n){var r=+n;return 1===r||5===r?e:o},function(n){var r=+n;return 11===r||8===r||80===r||800===r?i:o},function(n){var r=Math.floor(Math.abs(+n));return 1===r?e:0===r||2<=r%100&&r%100<=20||r%100==40||r%100==60||r%100==80?i:o},function(n){var r=+n;return r%10==6||r%10==9||r%10==0&&0!==r?i:o},function(n){var r=Math.floor(Math.abs(+n));return r%10==1&&r%100!=11?e:r%10==2&&r%100!=12?t:r%10!=7&&r%10!=8||r%100==17||r%100==18?o:i},function(n){var r=+n;return 1===r?e:2===r||3===r?t:4===r?a:o},function(n){var r=+n;return 1<=r&&r<=4?e:o},function(n){var r=+n;return 1===r||5===r||7<=r&&r<=9?e:2===r||3===r?t:4===r?a:6===r?i:o},function(n){var r=+n;return 1===r?e:r%10==4&&r%100!=14?i:o},function(n){var r=+n;return r%10!=1&&r%10!=2||r%100==11||r%100==12?o:e},function(n){var r=+n;return r%10==6||r%10==9||10===r?a:o},function(n){var r=+n;return r%10==3&&r%100!=13?a:o}];n.exports={af:{cardinal:l[0]},ak:{cardinal:l[1]},am:{cardinal:l[2]},ar:{cardinal:l[3]},ars:{cardinal:l[3]},as:{cardinal:l[2],ordinal:l[34]},asa:{cardinal:l[0]},ast:{cardinal:l[4]},az:{cardinal:l[0],ordinal:l[35]},be:{cardinal:l[5],ordinal:l[36]},bem:{cardinal:l[0]},bez:{cardinal:l[0]},bg:{cardinal:l[0]},bh:{cardinal:l[1]},bn:{cardinal:l[2],ordinal:l[34]},br:{cardinal:l[6]},brx:{cardinal:l[0]},bs:{cardinal:l[7]},ca:{cardinal:l[4],ordinal:l[37]},ce:{cardinal:l[0]},cgg:{cardinal:l[0]},chr:{cardinal:l[0]},ckb:{cardinal:l[0]},cs:{cardinal:l[8]},cy:{cardinal:l[9],ordinal:l[38]},da:{cardinal:l[10]},de:{cardinal:l[4]},dsb:{cardinal:l[11]},dv:{cardinal:l[0]},ee:{cardinal:l[0]},el:{cardinal:l[0]},en:{cardinal:l[4],ordinal:l[39]},eo:{cardinal:l[0]},es:{cardinal:l[0]},et:{cardinal:l[4]},eu:{cardinal:l[0]},fa:{cardinal:l[2]},ff:{cardinal:l[12]},fi:{cardinal:l[4]},fil:{cardinal:l[13],ordinal:l[0]},fo:{cardinal:l[0]},fr:{cardinal:l[12],ordinal:l[0]},fur:{cardinal:l[0]},fy:{cardinal:l[4]},ga:{cardinal:l[14],ordinal:l[0]},gd:{cardinal:l[15],ordinal:l[40]},gl:{cardinal:l[4]},gsw:{cardinal:l[0]},gu:{cardinal:l[2],ordinal:l[41]},guw:{cardinal:l[1]},gv:{cardinal:l[16]},ha:{cardinal:l[0]},haw:{cardinal:l[0]},he:{cardinal:l[17]},hi:{cardinal:l[2],ordinal:l[41]},hr:{cardinal:l[7]},hsb:{cardinal:l[11]},hu:{cardinal:l[0],ordinal:l[42]},hy:{cardinal:l[12],ordinal:l[0]},ia:{cardinal:l[4]},io:{cardinal:l[4]},is:{cardinal:l[18]},it:{cardinal:l[4],ordinal:l[43]},iu:{cardinal:l[19]},iw:{cardinal:l[17]},jgo:{cardinal:l[0]},ji:{cardinal:l[4]},jmc:{cardinal:l[0]},ka:{cardinal:l[0],ordinal:l[44]},kab:{cardinal:l[12]},kaj:{cardinal:l[0]},kcg:{cardinal:l[0]},kk:{cardinal:l[0],ordinal:l[45]},kkj:{cardinal:l[0]},kl:{cardinal:l[0]},kn:{cardinal:l[2]},ks:{cardinal:l[0]},ksb:{cardinal:l[0]},ksh:{cardinal:l[20]},ku:{cardinal:l[0]},kw:{cardinal:l[19]},ky:{cardinal:l[0]},lag:{cardinal:l[21]},lb:{cardinal:l[0]},lg:{cardinal:l[0]},ln:{cardinal:l[1]},lt:{cardinal:l[22]},lv:{cardinal:l[23]},mas:{cardinal:l[0]},mg:{cardinal:l[1]},mgo:{cardinal:l[0]},mk:{cardinal:l[24],ordinal:l[46]},ml:{cardinal:l[0]},mn:{cardinal:l[0]},mo:{cardinal:l[25],ordinal:l[0]},mr:{cardinal:l[2],ordinal:l[47]},mt:{cardinal:l[26]},nah:{cardinal:l[0]},naq:{cardinal:l[19]},nb:{cardinal:l[0]},nd:{cardinal:l[0]},ne:{cardinal:l[0],ordinal:l[48]},nl:{cardinal:l[4]},nn:{cardinal:l[0]},nnh:{cardinal:l[0]},no:{cardinal:l[0]},nr:{cardinal:l[0]},nso:{cardinal:l[1]},ny:{cardinal:l[0]},nyn:{cardinal:l[0]},om:{cardinal:l[0]},or:{cardinal:l[0],ordinal:l[49]},os:{cardinal:l[0]},pa:{cardinal:l[1]},pap:{cardinal:l[0]},pl:{cardinal:l[27]},prg:{cardinal:l[23]},ps:{cardinal:l[0]},pt:{cardinal:l[28]},"pt-PT":{cardinal:l[4]},rm:{cardinal:l[0]},ro:{cardinal:l[25],ordinal:l[0]},rof:{cardinal:l[0]},ru:{cardinal:l[29]},rwk:{cardinal:l[0]},saq:{cardinal:l[0]},sc:{cardinal:l[4],ordinal:l[43]},scn:{cardinal:l[4],ordinal:l[43]},sd:{cardinal:l[0]},sdh:{cardinal:l[0]},se:{cardinal:l[19]},seh:{cardinal:l[0]},sh:{cardinal:l[7]},shi:{cardinal:l[30]},si:{cardinal:l[31]},sk:{cardinal:l[8]},sl:{cardinal:l[32]},sma:{cardinal:l[19]},smi:{cardinal:l[19]},smj:{cardinal:l[19]},smn:{cardinal:l[19]},sms:{cardinal:l[19]},sn:{cardinal:l[0]},so:{cardinal:l[0]},sq:{cardinal:l[0],ordinal:l[50]},sr:{cardinal:l[7]},ss:{cardinal:l[0]},ssy:{cardinal:l[0]},st:{cardinal:l[0]},sv:{cardinal:l[4],ordinal:l[51]},sw:{cardinal:l[4]},syr:{cardinal:l[0]},ta:{cardinal:l[0]},te:{cardinal:l[0]},teo:{cardinal:l[0]},ti:{cardinal:l[1]},tig:{cardinal:l[0]},tk:{cardinal:l[0],ordinal:l[52]},tl:{cardinal:l[13],ordinal:l[0]},tn:{cardinal:l[0]},tr:{cardinal:l[0]},ts:{cardinal:l[0]},tzm:{cardinal:l[33]},ug:{cardinal:l[0]},uk:{cardinal:l[29],ordinal:l[53]},ur:{cardinal:l[4]},uz:{cardinal:l[0]},ve:{cardinal:l[0]},vo:{cardinal:l[0]},vun:{cardinal:l[0]},wa:{cardinal:l[1]},wae:{cardinal:l[0]},xh:{cardinal:l[0]},xog:{cardinal:l[0]},yi:{cardinal:l[4]},zu:{cardinal:l[2]},lo:{ordinal:l[0]},ms:{ordinal:l[0]},vi:{ordinal:l[0]}}},194:(n,r)=>{"use strict";var e="{",t="}",a=",",i="#",o="<",l=">",u="</",c="/>",s="\'",f="offset:",d=["number","date","time","ordinal","duration","spellout"],h=["plural","select","selectordinal"];function p(n,r){var e=n.pattern,a=e.length,i=[],o=n.index,l=m(n,r);for(l&&i.push(l),l&&n.tokens&&n.tokens.push(["text",e.slice(o,n.index)]);n.index<a;){if(e[n.index]===t){if(!r)throw S(n);break}if(r&&n.tagsType&&e.slice(n.index,n.index+u.length)===u)break;i.push(v(n)),o=n.index,(l=m(n,r))&&i.push(l),l&&n.tokens&&n.tokens.push(["text",e.slice(o,n.index)])}return i}function m(n,r){for(var a=n.pattern,l=a.length,u="plural"===r||"selectordinal"===r,c=!!n.tagsType,f="{style}"===r,d="";n.index<l;){var h=a[n.index];if(h===e||h===t||u&&h===i||c&&h===o||f&&y(h.charCodeAt(0)))break;if(h===s)if((h=a[++n.index])===s)d+=h,++n.index;else if(h===e||h===t||u&&h===i||c&&h===o||f)for(d+=h;++n.index<l;)if((h=a[n.index])===s&&a[n.index+1]===s)d+=s,++n.index;else{if(h===s){++n.index;break}d+=h}else d+=s;else d+=h,++n.index}return d}function y(n){return n>=9&&n<=13||32===n||133===n||160===n||6158===n||n>=8192&&n<=8205||8232===n||8233===n||8239===n||8287===n||8288===n||12288===n||65279===n}function b(n){for(var r=n.pattern,e=r.length,t=n.index;n.index<e&&y(r.charCodeAt(n.index));)++n.index;t<n.index&&n.tokens&&n.tokens.push(["space",n.pattern.slice(t,n.index)])}function v(n){var r=n.pattern;if(r[n.index]===i)return n.tokens&&n.tokens.push(["syntax",i]),++n.index,[i];var s=function(n){var r=n.tagsType;if(r&&n.pattern[n.index]===o){if(n.pattern.slice(n.index,n.index+u.length)===u)throw S(n,null,"closing tag without matching opening tag");n.tokens&&n.tokens.push(["syntax",o]),++n.index;var e=g(n,!0);if(!e)throw S(n,"placeholder id");if(n.tokens&&n.tokens.push(["id",e]),b(n),n.pattern.slice(n.index,n.index+c.length)===c)return n.tokens&&n.tokens.push(["syntax",c]),n.index+=c.length,[e,r];if(n.pattern[n.index]!==l)throw S(n,l);n.tokens&&n.tokens.push(["syntax",l]),++n.index;var t=p(n,r),a=n.index;if(n.pattern.slice(n.index,n.index+u.length)!==u)throw S(n,u+e+l);n.tokens&&n.tokens.push(["syntax",u]),n.index+=u.length;var i=g(n,!0);if(i&&n.tokens&&n.tokens.push(["id",i]),e!==i)throw n.index=a,S(n,u+e+l,u+i+l);if(b(n),n.pattern[n.index]!==l)throw S(n,l);return n.tokens&&n.tokens.push(["syntax",l]),++n.index,[e,r,{children:t}]}}(n);if(s)return s;if(r[n.index]!==e)throw S(n,e);n.tokens&&n.tokens.push(["syntax",e]),++n.index,b(n);var h=g(n);if(!h)throw S(n,"placeholder id");n.tokens&&n.tokens.push(["id",h]),b(n);var m=r[n.index];if(m===t)return n.tokens&&n.tokens.push(["syntax",t]),++n.index,[h];if(m!==a)throw S(n,a+" or "+t);n.tokens&&n.tokens.push(["syntax",a]),++n.index,b(n);var y,v=g(n);if(!v)throw S(n,"placeholder type");if(n.tokens&&n.tokens.push(["type",v]),b(n),(m=r[n.index])===t){if(n.tokens&&n.tokens.push(["syntax",t]),"plural"===v||"selectordinal"===v||"select"===v)throw S(n,v+" sub-messages");return++n.index,[h,v]}if(m!==a)throw S(n,a+" or "+t);if(n.tokens&&n.tokens.push(["syntax",a]),++n.index,b(n),"plural"===v||"selectordinal"===v){var w=function(n){var r,e=n.pattern,t=e.length,a=0;if(e.slice(n.index,n.index+f.length)===f){n.tokens&&n.tokens.push(["offset","offset"],["syntax",":"]),n.index+=f.length,b(n);for(var i=n.index;n.index<t&&((r=e.charCodeAt(n.index))>=48&&r<=57);)++n.index;if(i===n.index)throw S(n,"offset number");n.tokens&&n.tokens.push(["number",e.slice(i,n.index)]),a=+e.slice(i,n.index)}return a}(n);b(n),y=[h,v,w,k(n,v)]}else if("select"===v)y=[h,v,k(n,v)];else if(d.indexOf(v)>=0)y=[h,v,x(n)];else{var M=n.index,O=x(n);b(n),r[n.index]===e&&(n.index=M,O=k(n,v)),y=[h,v,O]}if(b(n),r[n.index]!==t)throw S(n,t);return n.tokens&&n.tokens.push(["syntax",t]),++n.index,y}function g(n,r){for(var u=n.pattern,c=u.length,f="";n.index<c;){var d=u[n.index];if(d===e||d===t||d===a||d===i||d===s||y(d.charCodeAt(0))||r&&(d===o||d===l||"/"===d))break;f+=d,++n.index}return f}function x(n){var r=n.index,e=m(n,"{style}");if(!e)throw S(n,"placeholder style name");return n.tokens&&n.tokens.push(["style",n.pattern.slice(r,n.index)]),e}function k(n,r){for(var e=n.pattern,a=e.length,i={};n.index<a&&e[n.index]!==t;){var o=g(n);if(!o)throw S(n,"sub-message selector");n.tokens&&n.tokens.push(["selector",o]),b(n),i[o]=w(n,r),b(n)}if(!i.other&&h.indexOf(r)>=0)throw S(n,null,null,\'"other" sub-message must be specified in \'+r);return i}function w(n,r){if(n.pattern[n.index]!==e)throw S(n,e+" to start sub-message");n.tokens&&n.tokens.push(["syntax",e]),++n.index;var a=p(n,r);if(n.pattern[n.index]!==t)throw S(n,t+" to end sub-message");return n.tokens&&n.tokens.push(["syntax",t]),++n.index,a}function S(n,r,e,t){var a=n.pattern,i=a.slice(0,n.index).split(/\\r?\\n/),o=n.index,l=i.length,u=i.slice(-1)[0].length;return e=e||(n.index>=a.length?"end of message pattern":g(n)||a[n.index]),t||(t=function(n,r){return n?"Expected "+n+" but found "+r:"Unexpected "+r+" found"}(r,e)),new M(t+=" in "+a.replace(/\\r?\\n/g,"\\n"),r,e,o,l,u)}function M(n,r,e,t,a,i){Error.call(this,n),this.name="SyntaxError",this.message=n,this.expected=r,this.found=e,this.offset=t,this.line=a,this.column=i}r=n.exports=function(n,r){return p({pattern:String(n),index:0,tagsType:r&&r.tagsType||null,tokens:r&&r.tokens||null},"")},M.prototype=Object.create(Error.prototype),r.SyntaxError=M},132:(n,r,e)=>{"use strict";var t=e(194),a=e(280),i=e(235),o=e(450),l=e(541);function u(n,r){return Object.keys(r).forEach((function(e){n[e]=r[e]})),n}n.exports=function n(){var r=u({},l),e="en",c={},s=function(n){return n},f=null,d="warning",h={};function p(n,r,i){var o="string"==typeof n?n:n.default,l=b(o,"object"==typeof n&&n.id||s(o),i||e);return(l.format||(l.format=a(t(l.message),i||e,h)))(r)}p.rich=function(n,r,i){var o="string"==typeof n?n:n.default,l=b(o,"object"==typeof n&&n.id||s(o),i||e);return(l.toParts||(l.toParts=a.toParts(t(l.message,{tagsType:m}),i||e,h)))(r)};var m="<>";function y(n,r){var e=n[2];return function(n,r){var t="object"==typeof e?function(n,r){return Object.keys(n).reduce((function(e,t){return e[t]=n[t](r),e}),{})}(e,r):e;return"function"==typeof n?n(t):n}}function b(n,r,e){var t=o(e,c)||"en",a=c[t]||(c[t]={}),i=a[r];if("string"==typeof i&&(i=a[r]={message:i}),!i){var l=\'Translation for "\'+r+\'" in "\'+t+\'" is missing\';if("warning"===d)"undefined"!=typeof console&&console.warn(l);else if("ignore"!==d)throw new Error(l);var u="function"==typeof f?f(n,r,t)||n:f||n;i=a[r]={message:u}}return i}function v(n,r,t,a,l){"object"==typeof t&&"object"!=typeof a&&(l=a,a=t,t=0);var u=o(l||e,i),c=u&&i[u][n]||g;return a["="+ +r]||a[c(r-t)]||a.other}function g(){return"other"}return h[m]=y,p.setup=function(n){return(n=n||{}).locale&&(e=n.locale),"translations"in n&&(c=n.translations||{}),n.generateId&&(s=n.generateId),"missingReplacement"in n&&(f=n.missingReplacement),n.missingTranslation&&(d=n.missingTranslation),n.formats&&(n.formats.number&&u(r.number,n.formats.number),n.formats.date&&u(r.date,n.formats.date),n.formats.time&&u(r.time,n.formats.time)),n.types&&((h=n.types)[m]=y),{locale:e,translations:c,generateId:s,missingReplacement:f,missingTranslation:d,formats:r,types:h}},p.number=function(n,t,a){var i=t&&r.number[t]||r.parseNumberPattern(t)||r.number.default;return new Intl.NumberFormat(a||e,i).format(n)},p.date=function(n,t,a){var i=t&&r.date[t]||r.parseDatePattern(t)||r.date.default;return new Intl.DateTimeFormat(a||e,i).format(n)},p.time=function(n,t,a){var i=t&&r.time[t]||r.parseDatePattern(t)||r.time.default;return new Intl.DateTimeFormat(a||e,i).format(n)},p.select=function(n,r){return r[n]||r.other},p.custom=function(n,r,e,t){return n[1]in h?h[n[1]](n,r)(e,t):e},p.plural=v.bind(null,"cardinal"),p.selectordinal=v.bind(null,"ordinal"),p.namespace=n,p}()},450:n=>{n.exports=function(n,r){if("string"==typeof n&&r[n])return n;for(var e=[].concat(n||[]),t=0,a=e.length;t<a;++t)for(var i=e[t].split("-");i.length;){var o=i.join("-");if(r[o])return o;i.pop()}}}},r={};function e(t){var a=r[t];if(void 0!==a)return a.exports;var i=r[t]={exports:{}};return n[t](i,i.exports,e),i.exports}e.n=n=>{var r=n&&n.__esModule?()=>n.default:()=>n;return e.d(r,{a:r}),r},e.d=(n,r)=>{for(var t in r)e.o(r,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:r[t]})},e.o=(n,r)=>Object.prototype.hasOwnProperty.call(n,r),(()=>{"use strict";var n=function(n){return n.ANGLE="angle",n.BOOLEAN="Boolean",n.COLOR="color",n.NUMBER="number",n.STRING="string",n.MATRIX="matrix",n.NOTE="note",n.IMAGE="image",n}(n||{}),r=function(n){return n.BOOLEAN="Boolean",n.BUTTON="button",n.COMMAND="command",n.CONDITIONAL="conditional",n.EVENT="event",n.HAT="hat",n.LABEL="label",n.LOOP="loop",n.REPORTER="reporter",n.XML="xml",n}(r||{}),t=function(n){return n.GLOBAL="global",n.TARGET="target",n}(t||{}),a=function(n){return n.SPRITE="sprite",n.STAGE="stage",n}(a||{});function i(n){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},i(n)}function o(n,r){for(var e=0;e<r.length;e++){var t=r[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,l(t.key),t)}}function l(n){var r=function(n,r){if("object"!=i(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=i(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==i(r)?r:r+""}const u=function(){function n(){!function(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}(this,n)}return r=n,e=[{key:"RGB_BLACK",get:function(){return{r:0,g:0,b:0}}},{key:"RGB_WHITE",get:function(){return{r:255,g:255,b:255}}},{key:"decimalToHex",value:function(n){n<0&&(n+=16777216);var r=Number(n).toString(16);return"#".concat("000000".substr(0,6-r.length)).concat(r)}},{key:"decimalToRgb",value:function(n){var r=n>>24&255;return{r:n>>16&255,g:n>>8&255,b:255&n,a:r>0?r:255}}},{key:"hexToRgb",value:function(n){n.startsWith("#")&&(n=n.substring(1));var r=parseInt(n,16);if(isNaN(r))return null;if(6===n.length)return{r:r>>16&255,g:r>>8&255,b:255&r};if(3===n.length){var e=r>>8&15,t=r>>4&15,a=15&r;return{r:e<<4|e,g:t<<4|t,b:a<<4|a}}return null}},{key:"rgbToHex",value:function(r){return n.decimalToHex(n.rgbToDecimal(r))}},{key:"rgbToDecimal",value:function(n){if(null===n)throw new Error("rgb must be an RGBObject");return(n.r<<16)+(n.g<<8)+n.b}},{key:"hexToDecimal",value:function(r){return n.rgbToDecimal(n.hexToRgb(r))}},{key:"hsvToRgb",value:function(n){var r=n.h%360;r<0&&(r+=360);var e,t,a,i=Math.max(0,Math.min(n.s,1)),o=Math.max(0,Math.min(n.v,1)),l=Math.floor(r/60),u=r/60-l,c=o*(1-i),s=o*(1-i*u),f=o*(1-i*(1-u));switch(l){default:case 0:e=o,t=f,a=c;break;case 1:e=s,t=o,a=c;break;case 2:e=c,t=o,a=f;break;case 3:e=c,t=s,a=o;break;case 4:e=f,t=c,a=o;break;case 5:e=o,t=c,a=s}return{r:Math.floor(255*e),g:Math.floor(255*t),b:Math.floor(255*a)}}},{key:"rgbToHsv",value:function(n){var r=n.r/255,e=n.g/255,t=n.b/255,a=Math.min(Math.min(r,e),t),i=Math.max(Math.max(r,e),t),o=0,l=0;return a!==i&&(o=60*((r===a?3:e===a?5:1)-(r===a?e-t:e===a?t-r:r-e)/(i-a))%360,l=(i-a)/i),{h:o,s:l,v:i}}},{key:"mixRgb",value:function(n,r,e){if(e<=0)return n;if(e>=1)return r;var t=1-e;return{r:t*n.r+e*r.r,g:t*n.g+e*r.g,b:t*n.b+e*r.b}}}],null&&o(r.prototype,null),e&&o(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e}();function c(n){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},c(n)}function s(n,r){for(var e=0;e<r.length;e++){var t=r[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,f(t.key),t)}}function f(n){var r=function(n,r){if("object"!=c(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=c(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==c(r)?r:r+""}var d=function(n){if("string"!=typeof n)return!1;for(var r=0;r<n.length;r++){var e=n.charCodeAt(r);if(48===e||9===e)return!1}return!0},h=function(){function n(){!function(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}(this,n)}return r=n,e=[{key:"toNumber",value:function(n){if("number"==typeof n)return Number.isNaN(n)?0:n;var r=Number(n);return Number.isNaN(r)?0:r}},{key:"toBoolean",value:function(n){return"boolean"==typeof n?n:"string"==typeof n?""!==n&&"0"!==n&&"false"!==n.toLowerCase():Boolean(n)}},{key:"toString",value:function(n){return String(n)}},{key:"toRgbColorList",value:function(r){var e=n.toRgbColorObject(r);return[e.r,e.g,e.b]}},{key:"toRgbColorObject",value:function(r){var e;return"string"==typeof r&&"#"===r.substring(0,1)?(e=u.hexToRgb(r))||(e={r:0,g:0,b:0,a:255}):e=u.decimalToRgb(n.toNumber(r)),e}},{key:"isWhiteSpace",value:function(n){return null===n||"string"==typeof n&&0===n.trim().length}},{key:"compare",value:function(n,r){var e=Number(n),t=Number(r);if(0===e&&d(n)?e=NaN:0===t&&d(r)&&(t=NaN),isNaN(e)||isNaN(t)){var a=String(n).toLowerCase(),i=String(r).toLowerCase();return a<i?-1:a>i?1:0}return e===1/0&&t===1/0||e===-1/0&&t===-1/0?0:e-t}},{key:"isInt",value:function(n){return"number"==typeof n?!!isNaN(n)||n===Math.floor(n):"boolean"==typeof n||"string"==typeof n&&n.indexOf(".")<0}},{key:"LIST_INVALID",get:function(){return"INVALID"}},{key:"LIST_ALL",get:function(){return"ALL"}},{key:"toListIndex",value:function(r,e,t){if("number"!=typeof r){if("all"===r)return t?n.LIST_ALL:n.LIST_INVALID;if("last"===r)return e>0?e:n.LIST_INVALID;if("random"===r||"any"===r)return e>0?1+Math.floor(Math.random()*e):n.LIST_INVALID}return(r=Math.floor(n.toNumber(r)))<1||r>e?n.LIST_INVALID:r}}],null&&s(r.prototype,null),e&&s(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e}(),p=e(132),m=e.n(p);function y(n){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},y(n)}function b(n){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},b(n)}function v(n,r){return function(n){if(Array.isArray(n))return n}(n)||function(n,r){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var t,a,i,o,l=[],u=!0,c=!1;try{if(i=(e=e.call(n)).next,0===r){if(Object(e)!==e)return;u=!1}else for(;!(u=(t=i.call(e)).done)&&(l.push(t.value),l.length!==r);u=!0);}catch(n){c=!0,a=n}finally{try{if(!u&&null!=e.return&&(o=e.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(n,r)||g(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(n,r){if(n){if("string"==typeof n)return x(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?x(n,r):void 0}}function x(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}function k(n,r){for(var e=0;e<r.length;e++){var t=r[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,S(t.key),t)}}function w(n,r,e){return(r=S(r))in n?Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[r]=e,n}function S(n){var r=function(n,r){if("object"!=b(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=b(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==b(r)?r:r+""}function M(n){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},M(n)}function O(n,r){for(var e=0;e<r.length;e++){var t=r[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,N(t.key),t)}}function j(n,r,e){return r=T(r),function(n,r){if(r&&("object"===M(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(void 0===n)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return n}(n)}(n,I()?Reflect.construct(r,e||[],T(n).constructor):r.apply(n,e))}function I(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(n){}return(I=function(){return!!n})()}function T(n){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},T(n)}function P(n,r){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},P(n,r)}function N(n){var r=function(n,r){if("object"!=M(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=M(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==M(r)?r:r+""}var E=new(function(n){function r(){var n,e,t,a;return function(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),e=n=j(this,r),a={},(t=N(t="services"))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,n._connectionPromise=new Promise((function(r){n._onConnect=r})),n._onMessage=n._onMessage.bind(n,self),"undefined"!=typeof self&&(self.onmessage=n._onMessage),n}return function(n,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&P(n,r)}(r,n),e=r,(t=[{key:"waitForConnection",get:function(){return this._connectionPromise}},{key:"setService",value:function(n,r){var e=this;return Object.prototype.hasOwnProperty.call(this.services,n)&&console.warn("Worker dispatch replacing existing service provider for ".concat(n)),this.services[n]=r,this.waitForConnection.then((function(){return e._remoteCall(self,"dispatch","setService",n)}))}},{key:"_getServiceProvider",value:function(n){var r=this.services[n];return{provider:r||self,isRemote:!r}}},{key:"_onDispatchMessage",value:function(n,r){var e;switch(r.method){case"handshake":e=this._onConnect();break;case"terminate":setTimeout((function(){return self.close()}),0),e=Promise.resolve();break;default:console.warn("Worker dispatch received message for unknown method: ".concat(r.method,". Ignoreing."))}return e}}])&&O(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(function(){return n=function n(){!function(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}(this,n),w(this,"callbacks",[]),w(this,"nextResponseId",0)},r=[{key:"call",value:function(n,r){for(var e=arguments.length,t=new Array(e>2?e-2:0),a=2;a<e;a++)t[a-2]=arguments[a];return this.transferCall.apply(this,[n,r,null].concat(t))}},{key:"transferCall",value:function(n,r,e){try{var t=this._getServiceProvider(n),a=t.provider,i=t.isRemote;if(a){for(var o=arguments.length,l=new Array(o>3?o-3:0),u=3;u<o;u++)l[u-3]=arguments[u];if(i)return this._remoteTransferCall.apply(this,[a,n,r,e].concat(l));var c=a[r].apply(a,l);return Promise.resolve(c)}return Promise.reject(new Error("Service not found: ".concat(n)))}catch(n){return Promise.reject(n)}}},{key:"_isRemoteService",value:function(n){return this._getServiceProvider(n).isRemote}},{key:"_remoteCall",value:function(n,r,e){for(var t=arguments.length,a=new Array(t>3?t-3:0),i=3;i<t;i++)a[i-3]=arguments[i];return this._remoteTransferCall.apply(this,[n,r,e,null].concat(a))}},{key:"_remoteTransferCall",value:function(n,r,e,t){for(var a=this,i=arguments.length,o=new Array(i>4?i-4:0),l=4;l<i;l++)o[l-4]=arguments[l];return new Promise((function(i,l){var u=a._storeCallbacks(i,l);o&&(o=a._purifyObject(o)),t?n.postMessage({service:r,method:e,responseId:u,args:o},t):n.postMessage({service:r,method:e,responseId:u,args:o})}))}},{key:"_storeCallbacks",value:function(n,r){var e=this.nextResponseId++;return this.callbacks[e]=[n,r],e}},{key:"_deliverResponse",value:function(n,r){try{var e=v(this.callbacks[n],2),t=e[0],a=e[1];delete this.callbacks[n],r.error?a(r.error):t(r.result)}catch(n){console.error("Dispatch callback failed: ".concat(n))}}},{key:"_onMessage",value:function(n,r){var e=r.data;e.args=e.args||[];var t,a=void 0;e.service?a="dispatch"===e.service?this._onDispatchMessage(n,e):this.call.apply(this,[e.service,e.method].concat(function(n){if(Array.isArray(n))return x(n)}(t=e.args)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(t)||g(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())):void 0===e.responseId?console.error("Dispatch caught malformed message from a worker: ".concat(JSON.stringify(r))):this._deliverResponse(e.responseId,e),a&&(void 0===e.responseId?console.error("Dispatch message missing required response ID: ".concat(JSON.stringify(r))):a.then((function(r){return n.postMessage({responseId:e.responseId,result:r})}),(function(r){return n.postMessage({responseId:e.responseId,error:"".concat(r)})})))}},{key:"_getServiceProvider",value:function(n){throw new Error("Could not get provider for ".concat(n,": _getServiceProvider not implemented"))}},{key:"_onDispatchMessage",value:function(n,r){throw new Error("Unimplemented dispatch message handler cannot handle ".concat(r.method," method"))}},{key:"_purifyObject",value:function(n){var r=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if("function"!=typeof n&&"symbol"!==b(n)){if(null!==n&&"object"===b(n)){if(e.has(n))return;if(e.add(n),Array.isArray(n))return n.map((function(n){return r._purifyObject(n,e,t+1)}));for(var a={},i=0,o=Object.entries(n);i<o.length;i++){var l=v(o[i],2),u=l[0],c=l[1];a[u]=this._purifyObject(c,e,t+1)}return a}return n}}}],r&&k(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}()));function A(n){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},A(n)}function _(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}function R(n,r){for(var e=0;e<r.length;e++){var t=r[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,D(t.key),t)}}function L(n,r,e){return(r=D(r))in n?Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[r]=e,n}function D(n){var r=function(n,r){if("object"!=A(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=A(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==A(r)?r:r+""}var C,F,B=function(){return n=function n(){var r=this;!function(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}(this,n),L(this,"nextExtensionId",0),L(this,"initialRegistrations",[]),L(this,"extensions",[]),L(this,"extensionURL",""),E.waitForConnection.then((function(){E.call("loader","allocateWorker").then((function(n){var e,t,a=(t=2,function(n){if(Array.isArray(n))return n}(e=n)||function(n,r){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var t,a,i,o,l=[],u=!0,c=!1;try{if(i=(e=e.call(n)).next,0===r){if(Object(e)!==e)return;u=!1}else for(;!(u=(t=i.call(e)).done)&&(l.push(t.value),l.length!==r);u=!0);}catch(n){c=!0,a=n}finally{try{if(!u&&null!=e.return&&(o=e.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(e,t)||function(n,r){if(n){if("string"==typeof n)return _(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_(n,r):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],o=a[1];r.workerId=i,r.extensionURL=o;try{importScripts(o);var l=r.initialRegistrations;r.initialRegistrations=[],Promise.all(l).then((function(){return E.call("loader","onWorkerInit",i)}))}catch(n){E.call("loader","onWorkerInit",i,n)}}))})),this.extensions=[]},(r=[{key:"register",value:function(n){var r=this,e=this.nextExtensionId++;this.extensions.push(n);var t="extension.".concat(this.workerId,".").concat(e),a=E.setService(t,n).then((function(){return E.call("loader","registerExtensionService",r.extensionURL,t)}));return this.initialRegistrations&&this.initialRegistrations.push(a),a}}])&&R(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}();globalThis.Scratch=(F={ArgumentType:n,BlockType:r,TargetType:a,ReporterScope:t,Cast:h,extensions:{register:function(){throw new Error("not implemented")},unsandboxed:!1,chibi:!0,eureka:!0},translate:function(n){var r=m().namespace(),e=function(n,e){if(n&&"object"===y(n));else{if("string"!=typeof n)throw new Error("unsupported data type in translate()");n={default:n}}return r(n,e)},t=function(n){return"_".concat(n)},a=function(){return n?n.getLocale():"undefined"!=typeof navigator?navigator.language:"en"},i={};return e.setup=function(n){n&&(i=n),r.setup({locale:a(),missingTranslation:"ignore",generateId:t,translations:i})},e.setup({}),n&&n.on("LOCALE_CHANGED",(function(){e.setup(null)})),Object.defineProperty(e,"language",{configurable:!0,enumerable:!0,get:function(){return a()}}),e}(C),fetch:function(n){function r(r,e){return n.apply(this,arguments)}return r.toString=function(){return n.toString()},r}((function(n,r){return fetch(n,r)})),canFetch:function(n){var r=function(n){try{return new URL(n,location.href)}catch(n){return null}}(n);return!!r}},F);var U=new B;globalThis.Scratch.extensions.register=U.register.bind(U)})()})();',"Worker",void 0,e.p+"sandbox.worker.user.js")}function q(n){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},q(n)}function $(n,r){return function(n){if(Array.isArray(n))return n}(n)||function(n,r){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var t,a,o,i,c=[],l=!0,u=!1;try{if(o=(e=e.call(n)).next,0===r){if(Object(e)!==e)return;l=!1}else for(;!(l=(t=o.call(e)).done)&&(c.push(t.value),c.length!==r);l=!0);}catch(n){u=!0,a=n}finally{try{if(!l&&null!=e.return&&(i=e.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(n,r)||Z(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(n,r){var e="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=Z(n))||r&&n&&"number"==typeof n.length){e&&(n=e);var t=0,a=function(){};return{s:a,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){e=e.call(n)},n:function(){var n=e.next();return i=n.done,n},e:function(n){c=!0,o=n},f:function(){try{i||null==e.return||e.return()}finally{if(c)throw o}}}}function Z(n,r){if(n){if("string"==typeof n)return X(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?X(n,r):void 0}}function X(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}function Q(){Q=function(){return r};var n,r={},e=Object.prototype,t=e.hasOwnProperty,a=Object.defineProperty||function(n,r,e){n[r]=e.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(n,r,e){return Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),n[r]}try{u({},"")}catch(n){u=function(n,r,e){return n[r]=e}}function s(n,r,e,t){var o=r&&r.prototype instanceof v?r:v,i=Object.create(o.prototype),c=new I(t||[]);return a(i,"_invoke",{value:L(n,e,c)}),i}function f(n,r,e){try{return{type:"normal",arg:n.call(r,e)}}catch(n){return{type:"throw",arg:n}}}r.wrap=s;var d="suspendedStart",h="suspendedYield",p="executing",y="completed",m={};function v(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(A([])));k&&k!==e&&t.call(k,i)&&(w=k);var E=g.prototype=v.prototype=Object.create(w);function S(n){["next","throw","return"].forEach((function(r){u(n,r,(function(n){return this._invoke(r,n)}))}))}function O(n,r){function e(a,o,i,c){var l=f(n[a],n,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==q(s)&&t.call(s,"__await")?r.resolve(s.__await).then((function(n){e("next",n,i,c)}),(function(n){e("throw",n,i,c)})):r.resolve(s).then((function(n){u.value=n,i(u)}),(function(n){return e("throw",n,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(n,t){function a(){return new r((function(r,a){e(n,t,r,a)}))}return o=o?o.then(a,a):a()}})}function L(r,e,t){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:n,done:!0}}for(t.method=o,t.arg=i;;){var c=t.delegate;if(c){var l=j(c,t);if(l){if(l===m)continue;return l}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if(a===d)throw a=y,t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);a=p;var u=f(r,e,t);if("normal"===u.type){if(a=t.done?y:h,u.arg===m)continue;return{value:u.arg,done:t.done}}"throw"===u.type&&(a=y,t.method="throw",t.arg=u.arg)}}}function j(r,e){var t=e.method,a=r.iterator[t];if(a===n)return e.delegate=null,"throw"===t&&r.iterator.return&&(e.method="return",e.arg=n,j(r,e),"throw"===e.method)||"return"!==t&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+t+"' method")),m;var o=f(a,r.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,m;var i=o.arg;return i?i.done?(e[r.resultName]=i.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,m):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function M(n){var r={tryLoc:n[0]};1 in n&&(r.catchLoc=n[1]),2 in n&&(r.finallyLoc=n[2],r.afterLoc=n[3]),this.tryEntries.push(r)}function _(n){var r=n.completion||{};r.type="normal",delete r.arg,n.completion=r}function I(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(M,this),this.reset(!0)}function A(r){if(r||""===r){var e=r[i];if(e)return e.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var a=-1,o=function e(){for(;++a<r.length;)if(t.call(r,a))return e.value=r[a],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}throw new TypeError(q(r)+" is not iterable")}return b.prototype=g,a(E,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),r.isGeneratorFunction=function(n){var r="function"==typeof n&&n.constructor;return!!r&&(r===b||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,g):(n.__proto__=g,u(n,l,"GeneratorFunction")),n.prototype=Object.create(E),n},r.awrap=function(n){return{__await:n}},S(O.prototype),u(O.prototype,c,(function(){return this})),r.AsyncIterator=O,r.async=function(n,e,t,a,o){void 0===o&&(o=Promise);var i=new O(s(n,e,t,a),o);return r.isGeneratorFunction(e)?i:i.next().then((function(n){return n.done?n.value:i.next()}))},S(E),u(E,l,"Generator"),u(E,i,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),r.keys=function(n){var r=Object(n),e=[];for(var t in r)e.push(t);return e.reverse(),function n(){for(;e.length;){var t=e.pop();if(t in r)return n.value=t,n.done=!1,n}return n.done=!0,n}},r.values=A,I.prototype={constructor:I,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(_),!r)for(var e in this)"t"===e.charAt(0)&&t.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var e=this;function a(t,a){return c.type="throw",c.arg=r,e.next=t,a&&(e.method="next",e.arg=n),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=t.call(i,"catchLoc"),u=t.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(n,r){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc<=this.prev&&t.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===n||"continue"===n)&&o.tryLoc<=r&&r<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=n,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(n,r){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&r&&(this.next=r),m},finish:function(n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===n)return this.complete(e.completion,e.afterLoc),_(e),m}},catch:function(n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===n){var t=e.completion;if("throw"===t.type){var a=t.arg;_(e)}return a}}throw Error("illegal catch attempt")},delegateYield:function(r,e,t){return this.delegate={iterator:A(r),resultName:e,nextLoc:t},"next"===this.method&&(this.arg=n),m}},r}function nn(n,r,e,t,a,o,i){try{var c=n[o](i),l=c.value}catch(n){return void e(n)}c.done?r(l):Promise.resolve(l).then(t,a)}function rn(n){return function(){var r=this,e=arguments;return new Promise((function(t,a){var o=n.apply(r,e);function i(n){nn(o,t,a,i,c,"next",n)}function c(n){nn(o,t,a,i,c,"throw",n)}i(void 0)}))}}function en(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function tn(n,r){for(var e=0;e<r.length;e++){var t=r[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,cn(t.key),t)}}function an(n,r,e){return r&&tn(n.prototype,r),e&&tn(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function on(n,r,e){return(r=cn(r))in n?Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[r]=e,n}function cn(n){var r=function(n,r){if("object"!=q(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=q(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==q(r)?r:r+""}var ln=new(function(){return an((function n(){en(this,n),on(this,"loading",Promise.resolve())}),[{key:"load",value:(n=rn(Q().mark((function n(r,e){return Q().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.loading=this.loading.then((function(){return rn(Q().mark((function n(){var a,o;return Q().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch(r,{cache:"no-cache"});case 3:return a=n.sent,n.next=6,a.text();case 6:return o=n.sent,n.abrupt("return",new Promise((function(n){var a=document.createElement("script"),i=URL.createObjectURL(new Blob(["\n/**\n * Generated by Eureka\n */\nlet Scratch = document.getElementById('eurekaExtension')?.Scratch;\n".concat(o,"\n//# sourceURL=").concat(r,"\n")],{type:"text/javascript"}));a.defer=!0,a.Scratch=e,a.type="module",a.src=i,a.id="eurekaExtension",document.head.appendChild(a),a.addEventListener("load",(function(){URL.revokeObjectURL(i),document.head.removeChild(a),n()})),a.addEventListener("error",(function(r){URL.revokeObjectURL(i),document.head.removeChild(a),(0,t.z3)(r.error),n()}))})));case 10:n.prev=10,n.t0=n.catch(0),(0,t.z3)(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()})));case 1:case"end":return n.stop()}}),n,this)}))),function(r,e){return n.apply(this,arguments)})}]);var n}()),un=function(){return an((function n(r){en(this,n),on(this,"nextExtensionWorker",0),on(this,"pendingExtensions",[]),on(this,"pendingWorkers",[]),on(this,"loadedScratchExtension",new Map),this.vm=r,T.setService("loader",this).catch((function(n){(0,t.z3)("EurekaLoader was unable to register extension service: ".concat(JSON.stringify(n)))})),this.patchVM()}),[{key:"load",value:(o=rn(Q().mark((function n(r){var e,t,a,o,i=this,c=arguments;return Q().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=c.length>1&&void 0!==c[1]?c[1]:"sandboxed","string"!=typeof r){n.next=13;break}n.t0=e,n.next="sandboxed"===n.t0?5:"unsandboxed"===n.t0?6:12;break;case 5:return n.abrupt("return",new Promise((function(n,e){var t=new J;i.pendingExtensions.push({extensionURL:r,resolve:n,reject:e}),T.addWorker(t)})));case 6:return t=K(this.vm),window.eureka.settings.dontExposeCtx||(window.Scratch=t),t.extensions.register=function(n){var e=n.getInfo();i._registerExtensionInfo(n,e,r)},n.next=11,ln.load(r,t);case 11:return n.abrupt("return");case 12:throw new Error("unexpected env");case 13:return a=new r(this.vm.runtime),o=a.getInfo(),this._registerExtensionInfo(a,o,o.id),n.abrupt("return",o);case 17:case"end":return n.stop()}}),n,this)}))),function(n){return o.apply(this,arguments)})},{key:"reload",value:(a=rn(Q().mark((function n(r){var e,t,a,o;return Q().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=this.loadedScratchExtension.get(r)){n.next=3;break}throw new Error("Cannot locate extension ".concat(r,"."));case 3:if("string"!=typeof e.instance){n.next=10;break}return n.next=6,T.call(e.instance,"getInfo");case 6:return t=n.sent,a=this._prepareExtensionInfo(null,t,e.instance),this.vm.runtime._refreshExtensionPrimitives(a),n.abrupt("return",a);case 10:return o=e.instance.getInfo(),o=this._prepareExtensionInfo(e.instance,o),this.vm.runtime._refreshExtensionPrimitives(o),n.abrupt("return",o);case 14:case"end":return n.stop()}}),n,this)}))),function(n){return a.apply(this,arguments)})},{key:"getIdByUrl",value:function(n){var r,e=Y(this.loadedScratchExtension.entries());try{for(e.s();!(r=e.n()).done;){var t=$(r.value,2),a=t[0];if(t[1].url===n)return a}}catch(n){e.e(n)}finally{e.f()}}},{key:"reloadAll",value:function(){var n,r=[],e=Y(this.loadedScratchExtension.entries());try{for(e.s();!(n=e.n()).done;){var t=$(n.value,1)[0];r.push(this.reload(t))}}catch(n){e.e(n)}finally{e.f()}return Promise.all(r)}},{key:"_registerExtensionInfo",value:function(n,r,e,t){if(!this.loadedScratchExtension.has(r.id)){if(!n&&!t)throw new Error("Cannnot mark ".concat(r.id," as loaded."));this.loadedScratchExtension.set(r.id,{type:"scratch",id:r.id,url:e,info:r,instance:null!=n?n:t,env:t?"sandboxed":"unsandboxed"}),this.vm.extensionManager._loadedExtensions.set(r.id,"Eureka")}r=this._prepareExtensionInfo(n,r,t),this.vm.runtime._registerExtensionPrimitives(r)}},{key:"_sanitizeID",value:function(n){return n.toString().replace(/[<"&]/,"_")}},{key:"_prepareExtensionInfo",value:function(n,r,e){var a=this;if(r=Object.assign({},r),!/^[a-z0-9]+$/i.test(r.id))throw new Error("Invalid extension id");return r.name=r.name||r.id,r.blocks=r.blocks||[],r.targetTypes=r.targetTypes||[],r.blocks=r.blocks.reduce((function(o,i){try{var c;c="---"===i?"---":a._prepareBlockInfo(n,i,e,r),o.push(c)}catch(n){(0,t.z3)("Error processing block: ".concat(n.message,", Block:\n").concat(JSON.stringify(i)))}return o}),[]),r.menus=r.menus||{},r.menus=this._prepareMenuInfo(n,r.menus,e),r}},{key:"_prepareMenuInfo",value:function(n,r,e){for(var t=Object.getOwnPropertyNames(r),a=0;a<t.length;a++){var o=t[a],i=r[o];if(i.items||(i={items:i},r[o]=i),"string"==typeof i.items){var c=i.items;i.items=this._getExtensionMenuItems.bind(this,n,c,e)}}return r}},{key:"_getExtensionMenuItems",value:function(n,r,e){var t=this.vm.runtime.getEditingTarget()||this.vm.runtime.getTargetForStage(),a=t?t.id:null,o=this.vm.runtime.makeMessageContextForTarget(t),i=n[r].call(n,a).map((function(n){switch(q(n=m(n,o))){case"object":return[m(n.text,o),n.value];case"string":return[n,n];default:return n}}));if(!i||i.length<1)throw new Error("Extension menu returned no items: ".concat(r));return i}},{key:"_prepareBlockInfo",value:function(n,r,e,a){switch((r=Object.assign({},{blockType:s.COMMAND,terminal:!1,blockAllThreads:!1,arguments:{}},r)).opcode=r.opcode&&this._sanitizeID(r.opcode),r.text=r.text||r.opcode,r.blockType){case s.EVENT:r.func&&(0,t.R8)('Ignoring function "'.concat(r.func,'" for event block ').concat(r.opcode));break;case s.BUTTON:if(!r.func)break;if(r.opcode&&(0,t.R8)('Ignoring opcode "'.concat(r.opcode,'" for button with text: ').concat(r.text)),["MAKE_A_LIST","MAKE_A_PROCEDURE","MAKE_A_VARIABLE"].includes(r.func))break;var o=null==a?void 0:a.id;if(!o){(0,t.R8)("Cannot assign prefix for button: ".concat(r.func));break}var i="".concat(o,"_").concat(r.func),c=r.func,l=null===n?e&&T._isRemoteService(e)?function(){return T.call(e,c)}:((0,t.R8)("Could not find extension block function called ".concat(c)),function(){}):(n[c]||(0,t.R8)("Could not find extension block function called ".concat(c)),function(){return n[c]()});r.callback=l,r.func=i;break;case s.LABEL:r.opcode&&(0,t.R8)('Ignoring opcode "'.concat(r.opcode,'" for label with text: ').concat(r.text));break;case s.XML:r.opcode&&(0,t.R8)('Ignoring opcode "'.concat(r.opcode,'" for xml: ').concat(r.xml));break;default:if(!r.opcode)throw new Error("Missing opcode for block");var u=r.func?this._sanitizeID(r.func):r.opcode,f=r.isDynamic?function(n){return n&&n.mutation&&n.mutation.blockInfo}:function(){return r},d=null===n?e&&T._isRemoteService(e)?function(n,r,t){return T.call(e,u,n,void 0,t)}:((0,t.R8)("Could not find extension block function called ".concat(u)),function(){}):(n[u]||(0,t.R8)("Could not find extension block function called ".concat(u)),function(r,e,t){return n[u](r,e,t)});r.func=function(n,r){var e=f(n);return d(n,r,e)}}return r}},{key:"patchVM",value:function(){var n=this.vm.runtime._convertForScratchBlocks;this.vm.runtime._convertForScratchBlocks=function(r,e){for(var t=arguments.length,a=new Array(t>2?t-2:0),o=2;o<t;o++)a[o-2]=arguments[o];if("string"!=typeof r)switch(r.blockType){case s.LABEL:return{info:r,xml:'<label text="'.concat(l(r.text),'"/>')};case s.XML:return{info:r,xml:r.xml};default:if("extensions"in r){var i=n.call.apply(n,[this,r,e].concat(a));"extensions"in i.json||(i.json.extensions=[]);var c,u=Y(r.extensions);try{for(u.s();!(c=u.n()).done;){var f=c.value;i.json.extensions.includes(f)||i.json.extensions.push(f)}}catch(n){u.e(n)}finally{u.f()}return i}return n.call.apply(n,[this,r,e].concat(a))}return n.call.apply(n,[this,r,e].concat(a))};var r=this.vm.runtime._convertButtonForScratchBlocks;this.vm.runtime._convertButtonForScratchBlocks=function(n){window.eureka.blockly&&!["MAKE_A_LIST","MAKE_A_PROCEDURE","MAKE_A_VARIABLE"].includes(n.func)&&window.Blockly.getMainWorkspace().registerButtonCallback(n.func,n.callback);for(var e=arguments.length,t=new Array(e>1?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];return r.call.apply(r,[this,n].concat(t))}}},{key:"updateLocales",value:(e=rn(Q().mark((function n(){return Q().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.reloadAll();case 2:case"end":return n.stop()}}),n,this)}))),function(){return e.apply(this,arguments)})},{key:"refreshBlocks",value:(r=rn(Q().mark((function n(){return Q().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.reloadAll();case 2:case"end":return n.stop()}}),n,this)}))),function(){return r.apply(this,arguments)})},{key:"allocateWorker",value:function(){var n=this.pendingExtensions.shift();if(n){var r=this.nextExtensionWorker++;return this.pendingWorkers[r]=n,[r,n.extensionURL]}(0,t.R8)("pending extension queue is empty")}},{key:"registerExtensionService",value:(n=rn(Q().mark((function n(r,e){var t;return Q().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.call(e,"getInfo");case 2:t=n.sent,this._registerExtensionInfo(null,t,r,e);case 4:case"end":return n.stop()}}),n,this)}))),function(r,e){return n.apply(this,arguments)})},{key:"onWorkerInit",value:function(n,r){var e=this.pendingWorkers[n];delete this.pendingWorkers[n],r?e.reject(r):e.resolve(n)}}]);var n,r,e,a,o}();function sn(n){return sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},sn(n)}function fn(){fn=function(){return r};var n,r={},e=Object.prototype,t=e.hasOwnProperty,a=Object.defineProperty||function(n,r,e){n[r]=e.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(n,r,e){return Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),n[r]}try{u({},"")}catch(n){u=function(n,r,e){return n[r]=e}}function s(n,r,e,t){var o=r&&r.prototype instanceof v?r:v,i=Object.create(o.prototype),c=new I(t||[]);return a(i,"_invoke",{value:L(n,e,c)}),i}function f(n,r,e){try{return{type:"normal",arg:n.call(r,e)}}catch(n){return{type:"throw",arg:n}}}r.wrap=s;var d="suspendedStart",h="suspendedYield",p="executing",y="completed",m={};function v(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(A([])));k&&k!==e&&t.call(k,i)&&(w=k);var E=g.prototype=v.prototype=Object.create(w);function S(n){["next","throw","return"].forEach((function(r){u(n,r,(function(n){return this._invoke(r,n)}))}))}function O(n,r){function e(a,o,i,c){var l=f(n[a],n,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==sn(s)&&t.call(s,"__await")?r.resolve(s.__await).then((function(n){e("next",n,i,c)}),(function(n){e("throw",n,i,c)})):r.resolve(s).then((function(n){u.value=n,i(u)}),(function(n){return e("throw",n,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(n,t){function a(){return new r((function(r,a){e(n,t,r,a)}))}return o=o?o.then(a,a):a()}})}function L(r,e,t){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:n,done:!0}}for(t.method=o,t.arg=i;;){var c=t.delegate;if(c){var l=j(c,t);if(l){if(l===m)continue;return l}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if(a===d)throw a=y,t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);a=p;var u=f(r,e,t);if("normal"===u.type){if(a=t.done?y:h,u.arg===m)continue;return{value:u.arg,done:t.done}}"throw"===u.type&&(a=y,t.method="throw",t.arg=u.arg)}}}function j(r,e){var t=e.method,a=r.iterator[t];if(a===n)return e.delegate=null,"throw"===t&&r.iterator.return&&(e.method="return",e.arg=n,j(r,e),"throw"===e.method)||"return"!==t&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+t+"' method")),m;var o=f(a,r.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,m;var i=o.arg;return i?i.done?(e[r.resultName]=i.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,m):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function M(n){var r={tryLoc:n[0]};1 in n&&(r.catchLoc=n[1]),2 in n&&(r.finallyLoc=n[2],r.afterLoc=n[3]),this.tryEntries.push(r)}function _(n){var r=n.completion||{};r.type="normal",delete r.arg,n.completion=r}function I(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(M,this),this.reset(!0)}function A(r){if(r||""===r){var e=r[i];if(e)return e.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var a=-1,o=function e(){for(;++a<r.length;)if(t.call(r,a))return e.value=r[a],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}throw new TypeError(sn(r)+" is not iterable")}return b.prototype=g,a(E,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),r.isGeneratorFunction=function(n){var r="function"==typeof n&&n.constructor;return!!r&&(r===b||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,g):(n.__proto__=g,u(n,l,"GeneratorFunction")),n.prototype=Object.create(E),n},r.awrap=function(n){return{__await:n}},S(O.prototype),u(O.prototype,c,(function(){return this})),r.AsyncIterator=O,r.async=function(n,e,t,a,o){void 0===o&&(o=Promise);var i=new O(s(n,e,t,a),o);return r.isGeneratorFunction(e)?i:i.next().then((function(n){return n.done?n.value:i.next()}))},S(E),u(E,l,"Generator"),u(E,i,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),r.keys=function(n){var r=Object(n),e=[];for(var t in r)e.push(t);return e.reverse(),function n(){for(;e.length;){var t=e.pop();if(t in r)return n.value=t,n.done=!1,n}return n.done=!0,n}},r.values=A,I.prototype={constructor:I,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(_),!r)for(var e in this)"t"===e.charAt(0)&&t.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var e=this;function a(t,a){return c.type="throw",c.arg=r,e.next=t,a&&(e.method="next",e.arg=n),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=t.call(i,"catchLoc"),u=t.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(n,r){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc<=this.prev&&t.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===n||"continue"===n)&&o.tryLoc<=r&&r<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=n,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(n,r){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&r&&(this.next=r),m},finish:function(n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===n)return this.complete(e.completion,e.afterLoc),_(e),m}},catch:function(n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===n){var t=e.completion;if("throw"===t.type){var a=t.arg;_(e)}return a}}throw Error("illegal catch attempt")},delegateYield:function(r,e,t){return this.delegate={iterator:A(r),resultName:e,nextLoc:t},"next"===this.method&&(this.arg=n),m}},r}function dn(n,r,e,t,a,o,i){try{var c=n[o](i),l=c.value}catch(n){return void e(n)}c.done?r(l):Promise.resolve(l).then(t,a)}function hn(n,r){if(n){if("string"==typeof n)return pn(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?pn(n,r):void 0}}function pn(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}var yn=null;function mn(){var n,r,e,t=[],a=function(n,r){var e="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=hn(n))){e&&(n=e);var t=0,a=function(){};return{s:a,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){e=e.call(n)},n:function(){var n=e.next();return i=n.done,n},e:function(n){c=!0,o=n},f:function(){try{i||null==e.return||e.return()}finally{if(c)throw o}}}}(window.eureka.loader.loadedScratchExtension.entries());try{for(a.s();!(n=a.n()).done;){var o=(r=n.value,e=2,function(n){if(Array.isArray(n))return n}(r)||function(n,r){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var t,a,o,i,c=[],l=!0,u=!1;try{if(o=(e=e.call(n)).next,0===r){if(Object(e)!==e)return;l=!1}else for(;!(l=(t=o.call(e)).done)&&(c.push(t.value),c.length!==r);l=!0);}catch(n){u=!0,a=n}finally{try{if(!l&&null!=e.return&&(i=e.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(r,e)||hn(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],c=o[1];t.push({name:i,sandboxed:"sandboxed"===c.env})}}catch(n){a.e(n)}finally{a.f()}return t}function vn(){var n;return n=fn().mark((function n(r){var e,a,o,c,l;return fn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("https://eureka-scratch.vercel.app"===r.origin){n.next=3;break}return(0,t.z3)("Message origin is not from the default website. A error may have occured."),n.abrupt("return");case 3:if("type"in r.data){n.next=5;break}return n.abrupt("return");case 5:n.t0=r.data.type,n.next="allocate"===n.t0?8:"load"===n.t0?13:"updateSettings"===n.t0?18:22;break;case 8:return(0,t.Rm)("Handshaking with frontend..."),null===(e=yn)||void 0===e||e.postMessage({type:"handshake",clientInfo:{version:Number(window.eureka.version),url:window.location.host}},"*"),null===(a=yn)||void 0===a||a.postMessage({type:"extension",extensions:mn()},"*"),null===(o=yn)||void 0===o||o.postMessage({type:"settings",settings:i()},"*"),n.abrupt("break",22);case 13:return(0,t.Rm)("Loading extension from frontend..."),n.next=16,window.eureka.loader.load(r.data.info.url,r.data.info.sandboxed?"sandboxed":"unsandboxed");case 16:return null===(c=yn)||void 0===c||c.postMessage({type:"extension",extensions:mn()},"*"),n.abrupt("break",22);case 18:return(0,t.Rm)("Updating settings from frontend..."),window.eureka.settings[r.data.item.name]=r.data.item.value,null===(l=yn)||void 0===l||l.postMessage({type:"settings",settings:i()},"*"),n.abrupt("break",22);case 22:case"end":return n.stop()}}),n)})),vn=function(){var r=this,e=arguments;return new Promise((function(t,a){var o=n.apply(r,e);function i(n){dn(o,t,a,i,c,"next",n)}function c(n){dn(o,t,a,i,c,"throw",n)}i(void 0)}))},vn.apply(this,arguments)}window.addEventListener("message",(function(n){return vn.apply(this,arguments)}));const bn=function(n){yn=n("https://eureka-scratch.vercel.app/#manage","Eureka","popup=yes,status=no,location=no,toolbar=no,menubar=no")},gn=JSON.parse('{"zh-cn":{"eureka.openFrontend":"🎨 打开面板","eureka.sideload":"🌏 从 URL 侧载扩展","eureka.sideloadTemporarily":"📄 从文件侧载扩展","eureka.errorIgnored":"❌ 在加载扩展扩展时出现错误。为了避免加载进程的中断，此错误已被忽略。","eureka.exprimentalFileWarning":"🛠️ 这是一项实验性功能 -- 刷新页面后扩展将不可用。\\n确定要继续么？","eureka.tryLoad":"🤨 项目正从 {url} 加载扩展 {extensionURL}。要通过 Eureka 进行加载吗?","eureka.tryLoadInEnv":"🤨 项目正以 {env} 模式从 {url} 加载扩展 {extensionURL}。要加载么？","eureka.loadInSandbox":"🤨 要以沙箱模式加载扩展么？\\n\\n✅ [确定] 以沙箱模式加载扩展。\\n❌ [取消] 以非沙箱模式加载扩展（不安全）。","eureka.enterURL":"🌐 输入 URL。"},"en":{"eureka.openFrontend":"🎨 Open UI Manager","eureka.openDocs":"💡 Open Docs","eureka.sideload":"🌎 Sideload from URL","eureka.sideloadTemporarily":"📄 Sideload from File","eureka.errorIgnored":"❌ Error occurred while sideloading extension. To avoid interrupting the loading process, this error is ignored.","eureka.exprimentalFileWarning":"🛠️ This is an experimental feature -- the extension will be unavailable after reloading.\\nAre you sure you want to continue?","eureka.tryLoad":"🤨 Project is trying to loading {extensionURL} from {url}. Do you want to load via Eureka? Your project may break if not loaded from eureka.","eureka.tryLoadInEnv":"🤨 Project is trying to sideloading {extensionURL} from {url} in {env} mode. Do you want to load? Your project may break if not loaded from eureka.","eureka.loadInSandbox":"🤨 Do you want to load it as sandbox extension?\\n\\n✅ [OK] Load it as sandboxed extension.\\n❌ [Cancel] Load it as unsandboxed extension (may be unsafe).","eureka.enterURL":"🌐 Enter URL the extension is located to load."},"ja":{"eureka.openFrontend":"🎨 ダッシュボードを開く","eureka.sideload":"🌏 URL から拡張機能を導入","eureka.sideloadTemporarily":"📄 ファイルから拡張機能を導入","eureka.errorIgnored":"❌ 拡張機能のサイドロード中でエラーが発生しました。ロードの中断を防ぐために、このエラーは無視しました。","eureka.exprimentalFileWarning":"🛠️ これは実験機能であり -- ページをリロードしたら、拡張機能は使用できなくなります。\\nよろしいですか？","eureka.tryLoad":"🤨 プロジェクトは {url} から {extensionURL} をサイドロードしています。ロードしますか？","eureka.tryLoadInEnv":"🤨 プロジェクトは {env} モードで、{url} から {extensionURL} をサイドロードしています。ロードしますか？","eureka.loadInSandbox":"🤨 サンドボックス拡張機能としてロードしますか？\\n\\n✅ [OK] サンドボックス拡張機能としてロードします。\\n❌ [キャンセル] 非サンドボックス拡張機能としてロードします（危険）。","eureka.enterURL":"🌐 URL を入力してください。"}}');var wn=e.t(gn,2);function xn(n,r){return function(n){if(Array.isArray(n))return n}(n)||function(n,r){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var t,a,o,i,c=[],l=!0,u=!1;try{if(o=(e=e.call(n)).next,0===r){if(Object(e)!==e)return;l=!1}else for(;!(l=(t=o.call(e)).done)&&(c.push(t.value),c.length!==r);l=!0);}catch(n){u=!0,a=n}finally{try{if(!l&&null!=e.return&&(i=e.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(n,r)||En(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kn(n,r){var e="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=En(n))||r&&n&&"number"==typeof n.length){e&&(n=e);var t=0,a=function(){};return{s:a,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){e=e.call(n)},n:function(){var n=e.next();return i=n.done,n},e:function(n){c=!0,o=n},f:function(){try{i||null==e.return||e.return()}finally{if(c)throw o}}}}function En(n,r){if(n){if("string"==typeof n)return Sn(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Sn(n,r):void 0}}function Sn(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}function On(){On=function(){return r};var n,r={},e=Object.prototype,t=e.hasOwnProperty,a=Object.defineProperty||function(n,r,e){n[r]=e.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(n,r,e){return Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),n[r]}try{u({},"")}catch(n){u=function(n,r,e){return n[r]=e}}function s(n,r,e,t){var o=r&&r.prototype instanceof v?r:v,i=Object.create(o.prototype),c=new I(t||[]);return a(i,"_invoke",{value:L(n,e,c)}),i}function f(n,r,e){try{return{type:"normal",arg:n.call(r,e)}}catch(n){return{type:"throw",arg:n}}}r.wrap=s;var d="suspendedStart",h="suspendedYield",p="executing",y="completed",m={};function v(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(A([])));k&&k!==e&&t.call(k,i)&&(w=k);var E=g.prototype=v.prototype=Object.create(w);function S(n){["next","throw","return"].forEach((function(r){u(n,r,(function(n){return this._invoke(r,n)}))}))}function O(n,r){function e(a,o,i,c){var l=f(n[a],n,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Mn(s)&&t.call(s,"__await")?r.resolve(s.__await).then((function(n){e("next",n,i,c)}),(function(n){e("throw",n,i,c)})):r.resolve(s).then((function(n){u.value=n,i(u)}),(function(n){return e("throw",n,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(n,t){function a(){return new r((function(r,a){e(n,t,r,a)}))}return o=o?o.then(a,a):a()}})}function L(r,e,t){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:n,done:!0}}for(t.method=o,t.arg=i;;){var c=t.delegate;if(c){var l=j(c,t);if(l){if(l===m)continue;return l}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if(a===d)throw a=y,t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);a=p;var u=f(r,e,t);if("normal"===u.type){if(a=t.done?y:h,u.arg===m)continue;return{value:u.arg,done:t.done}}"throw"===u.type&&(a=y,t.method="throw",t.arg=u.arg)}}}function j(r,e){var t=e.method,a=r.iterator[t];if(a===n)return e.delegate=null,"throw"===t&&r.iterator.return&&(e.method="return",e.arg=n,j(r,e),"throw"===e.method)||"return"!==t&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+t+"' method")),m;var o=f(a,r.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,m;var i=o.arg;return i?i.done?(e[r.resultName]=i.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,m):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function M(n){var r={tryLoc:n[0]};1 in n&&(r.catchLoc=n[1]),2 in n&&(r.finallyLoc=n[2],r.afterLoc=n[3]),this.tryEntries.push(r)}function _(n){var r=n.completion||{};r.type="normal",delete r.arg,n.completion=r}function I(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(M,this),this.reset(!0)}function A(r){if(r||""===r){var e=r[i];if(e)return e.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var a=-1,o=function e(){for(;++a<r.length;)if(t.call(r,a))return e.value=r[a],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}throw new TypeError(Mn(r)+" is not iterable")}return b.prototype=g,a(E,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),r.isGeneratorFunction=function(n){var r="function"==typeof n&&n.constructor;return!!r&&(r===b||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,g):(n.__proto__=g,u(n,l,"GeneratorFunction")),n.prototype=Object.create(E),n},r.awrap=function(n){return{__await:n}},S(O.prototype),u(O.prototype,c,(function(){return this})),r.AsyncIterator=O,r.async=function(n,e,t,a,o){void 0===o&&(o=Promise);var i=new O(s(n,e,t,a),o);return r.isGeneratorFunction(e)?i:i.next().then((function(n){return n.done?n.value:i.next()}))},S(E),u(E,l,"Generator"),u(E,i,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),r.keys=function(n){var r=Object(n),e=[];for(var t in r)e.push(t);return e.reverse(),function n(){for(;e.length;){var t=e.pop();if(t in r)return n.value=t,n.done=!1,n}return n.done=!0,n}},r.values=A,I.prototype={constructor:I,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(_),!r)for(var e in this)"t"===e.charAt(0)&&t.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var e=this;function a(t,a){return c.type="throw",c.arg=r,e.next=t,a&&(e.method="next",e.arg=n),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=t.call(i,"catchLoc"),u=t.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(n,r){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc<=this.prev&&t.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===n||"continue"===n)&&o.tryLoc<=r&&r<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=n,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(n,r){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&r&&(this.next=r),m},finish:function(n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===n)return this.complete(e.completion,e.afterLoc),_(e),m}},catch:function(n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===n){var t=e.completion;if("throw"===t.type){var a=t.arg;_(e)}return a}}throw Error("illegal catch attempt")},delegateYield:function(r,e,t){return this.delegate={iterator:A(r),resultName:e,nextLoc:t},"next"===this.method&&(this.arg=n),m}},r}function Ln(n,r,e,t,a,o,i){try{var c=n[o](i),l=c.value}catch(n){return void e(n)}c.done?r(l):Promise.resolve(l).then(t,a)}function jn(n){return function(){var r=this,e=arguments;return new Promise((function(t,a){var o=n.apply(r,e);function i(n){Ln(o,t,a,i,c,"next",n)}function c(n){Ln(o,t,a,i,c,"throw",n)}i(void 0)}))}}function Mn(n){return Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Mn(n)}var _n=3e4;function In(n){var r=n.indexOf("_"),e=n.substring(0,r).replace(/[^\w-]/g,"-");if(""!==e)return e}function An(n){return Tn.apply(this,arguments)}function Tn(){return(Tn=jn(On().mark((function n(r){var e,t,a;return On().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=(t=function(){var n;function e(n){var r=Function.prototype.apply;Function.prototype.apply=function(n){return n};var e=n();return Function.prototype.apply=r,e}var t=null===(n=r._events)||void 0===n?void 0:n.EXTENSION_ADDED;if(t)if(t instanceof Function){var a=e(t);if(a&&"object"===Mn(a)&&"ScratchBlocks"in a)return a.ScratchBlocks}else{var o,i=kn(t);try{for(i.s();!(o=i.n()).done;){var c=e(o.value);if(c&&"object"===Mn(c)&&"ScratchBlocks"in c)return c.ScratchBlocks}}catch(n){i.e(n)}finally{i.f()}}return null})(),n.abrupt("return",null!==(e=a)&&void 0!==e?e:new Promise((function(n){var e=void 0;Reflect.defineProperty(r._events,"EXTENSION_ADDED",{get:function(){return e},set:function(o){e=o,(a=t())&&(Reflect.defineProperty(r._events,"EXTENSION_ADDED",{value:e,writable:!0}),n(a))},configurable:!0})})));case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Rn(){window.eureka={version:"0.1.3",registeredExtension:{},settings:c,openFrontend:bn.bind(null,window.open)}}function Pn(){return Nn.apply(this,arguments)}function Nn(){return Nn=jn(On().mark((function n(){var r,e;return On().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(0,t.Rm)("Listening bind function..."),r=Function.prototype.bind,n.prev=2,n.next=5,new Promise((function(n,e){var a=setTimeout((function(){(0,t.Rm)("Cannot find vm instance, stop listening."),Function.prototype.bind=r,e()}),_n);Function.prototype.bind=function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return Function.prototype.bind===r?r.apply(this,o):o[0]&&Object.prototype.hasOwnProperty.call(o[0],"editingTarget")&&Object.prototype.hasOwnProperty.call(o[0],"runtime")?((0,t.Rm)("VM detected!"),Function.prototype.bind=r,clearTimeout(a),n(o[0]),r.apply(this,o)):r.apply(this,o)}}));case 5:return e=n.sent,n.abrupt("return",e);case 9:return n.prev=9,n.t0=n.catch(2),n.abrupt("return",null);case 12:case"end":return n.stop()}}),n,null,[[2,9]])}))),Nn.apply(this,arguments)}function Cn(n){var r=window.eureka.loader=new un(n),e=n.extensionManager.loadExtensionURL,a=function(n){var r=n.getLocale,e=p().namespace();return e.setup({locale:r?r.call(n):"en",missingTranslation:"ignore",generateId:function(n){return"".concat(n)},translations:wn}),window.eureka.format=e,e}(n);n.extensionManager.loadExtensionURL=function(){var n=jn(On().mark((function n(o){var i,c,l,u,s,f,d=arguments;return On().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(i=d.length,c=new Array(i>1?i-1:0),l=1;l<i;l++)c[l-1]=d[l];if(!(o in window.eureka.registeredExtension)){n.next=19;break}if(u=window.eureka.registeredExtension[o],s=u.url,f=u.env,n.prev=3,!window.eureka.settings.noConfirmDialog&&!(f?confirm(a("eureka.tryLoadInEnv",{extensionURL:o,url:s,env:f})):!window.eureka.settings.sideloadOnly&&confirm(a("eureka.tryLoad",{extensionURL:o,url:s})))){n.next=11;break}return n.next=9,r.load(s,f||(confirm(a("eureka.loadInSandbox"))?"sandboxed":"unsandboxed"));case 9:n.next=12;break;case 11:return n.abrupt("return",e.call.apply(e,[this,o].concat(c)));case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(3),(0,t.z3)(a("eureka.errorIgnored"),n.t0);case 17:n.next=20;break;case 19:return n.abrupt("return",e.call.apply(e,[this,o].concat(c)));case 20:case"end":return n.stop()}}),n,this,[[3,14]])})));return function(r){return n.apply(this,arguments)}}();var o=n.extensionManager.refreshBlocks;n.extensionManager.refreshBlocks=jn(On().mark((function n(){var r,e,t,a,i=arguments;return On().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(r=i.length,e=new Array(r),t=0;t<r;t++)e[t]=i[t];return n.next=3,o.call.apply(o,[this].concat(e));case 3:return a=n.sent,n.next=6,window.eureka.loader.refreshBlocks();case 6:return n.abrupt("return",a);case 7:case"end":return n.stop()}}),n,this)})));var i=n.toJSON;n.toJSON=function(n){for(var r=arguments.length,e=new Array(r>1?r-1:0),t=1;t<r;t++)e[t-1]=arguments[t];var a,o=i.call.apply(i,[this,n].concat(e)),c=JSON.parse(o),l={},u={},s=[],f=kn(window.eureka.loader.loadedScratchExtension.entries());try{for(f.s();!(a=f.n()).done;){var d=xn(a.value,2),h=d[0],p=d[1];p.url.startsWith("blob:")||(l[h]=p.url,u[h]=p.env,s.push(h))}}catch(n){f.e(n)}finally{f.f()}if(c.sideloadExtensionURLs=l,c.sideloadExtensionEnvs=u,window.eureka.settings.convertProcCall)if("targets"in c){var y,m=kn(c.targets);try{for(m.s();!(y=m.n()).done;){var v=y.value;for(var b in v.blocks){var g=v.blocks[b];if(g.opcode){var w=In(g.opcode);w&&s.includes(w)&&("mutation"in g||(g.mutation={}),g.mutation.proccode="[📎 Sideload] ".concat(g.opcode),g.mutation.children=[],g.mutation.tagName="mutation",g.opcode="procedures_call")}}}}catch(n){m.e(n)}finally{m.f()}for(var x in c.monitors){var k=c.monitors[x];if(k.opcode){var E=In(k.opcode);E&&s.includes(E)&&("sideloadMonitors"in c||(c.sideloadMonitors=[]),c.sideloadMonitors.push(k),c.monitors.splice(x,1))}}}else for(var S in c.blocks){var O=c.blocks[S];if(O.opcode){var L=In(O.opcode);L&&s.includes(L)&&("mutation"in O||(O.mutation={}),O.mutation.proccode="[📎 Sideload] ".concat(O.opcode),O.mutation.children=[],O.mutation.tagName="mutation",O.opcode="procedures_call")}}return JSON.stringify(c)};var c=n.deserializeProject;n.deserializeProject=function(n){if("object"===Mn(n.extensionURLs)||"object"===Mn(n.sideloadExtensionURLs)){var r,e="object"===Mn(n.sideloadExtensionURLs)?n.sideloadExtensionURLs:{},a="object"===Mn(n.sideloadExtensionEnvs)?n.sideloadExtensionEnvs:{};if(n.extensionEnvs)for(var o in(0,t.Rm)("Old eureka-ify project detected, migrating..."),a=n.sideloadExtensionEnvs=n.extensionEnvs,delete n.extensionEnvs,n.sideloadExtensionEnvs)o in n.extensionURLs&&(e[o]=n.extensionURLs[o],delete n.extensionURLs[o]);for(var i in e){var l;window.eureka.registeredExtension[i]={url:String(e[i]),env:String(null!==(l=a[i])&&void 0!==l?l:"sandboxed")}}if(n.targets instanceof Array){var u,s=kn(n.targets);try{for(s.s();!(u=s.n()).done;){var f=u.value;for(var d in f.blocks){var h=f.blocks[d];if("procedures_call"===h.opcode&&"mutation"in h){if(!h.mutation.proccode.trim().startsWith("[📎 Sideload] "))continue;var p=h.mutation.proccode.trim().substring(14),y=In(p);if(!y){(0,t.R8)("find a sideload block with an invalid id: ".concat(p,", ignored."));continue}if(!(y in window.eureka.registeredExtension)){(0,t.R8)("find a sideload block with unregistered extension: ".concat(y,", ignored."));continue}h.opcode=p,delete h.mutation}}}}catch(n){s.e(n)}finally{s.f()}}n.sideloadMonitors instanceof Array&&n.monitors instanceof Array&&((r=n.monitors).push.apply(r,function(n){if(Array.isArray(n))return Sn(n)}(m=n.sideloadMonitors)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(m)||En(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),delete n.sideloadMonitors)}for(var m,v=arguments.length,b=new Array(v>1?v-1:0),g=1;g<v;g++)b[g-1]=arguments[g];return c.call.apply(c,[this,n].concat(b))};var l=n._loadExtensions;"function"==typeof l&&(n._loadExtensions=function(n,r){var e,t,a=[],o=kn(n);try{for(o.s();!(e=o.n()).done;){var i=e.value;if(i in window.eureka.registeredExtension){var c=this.extensionManager.loadExtensionURL(i);null!==(t=c)&&"object"===Mn(t)&&"function"==typeof t.then&&a.push(c),n.delete(i)}}}catch(n){o.e(n)}finally{o.f()}for(var u=arguments.length,s=new Array(u>2?u-2:0),f=2;f<u;f++)s[f-2]=arguments[f];return Promise.all([l.call.apply(l,[this,n,r].concat(s))].concat(a))});var u=n.setLocale;n.setLocale=function(r){a.setup({locale:r,missingTranslation:"ignore",generateId:function(n){return"".concat(n)},translations:wn});for(var e=arguments.length,t=new Array(e>1?e-1:0),o=1;o<e;o++)t[o-1]=arguments[o];var i=u.call.apply(u,[this,r].concat(t));return n.emit("LOCALE_CHANGED",r),i};var s=n.runtime._primitives.argument_reporter_boolean;if(n.runtime._primitives.argument_reporter_boolean=function(n){switch(n.VALUE){case"🧐 Chibi?":return(0,t.R8)("'🧐 Chibi?' is deprecated, use '🧐 Eureka?' instead."),!0;case"🧐 Chibi Installed?":return(0,t.R8)("'🧐 Chibi Installed?' is deprecated, use '🧐 Eureka?' instead."),!0;case"🧐 Eureka?":return!0;default:for(var r=arguments.length,e=new Array(r>1?r-1:0),a=1;a<r;a++)e[a-1]=arguments[a];return s.call.apply(s,[this,n].concat(e))}},"object"===Mn(n.ccExtensionManager)){var f=n.ccExtensionManager.getExtensionLoadOrder;n.ccExtensionManager.getExtensionLoadOrder=function(r){var e,t=kn(r);try{for(t.s();!(e=t.n()).done;){var a=e.value;!Object.prototype.hasOwnProperty.call(n.ccExtensionManager.info,a)&&a in window.eureka.registeredExtension&&(n.ccExtensionManager.info[a]={api:0})}}catch(n){t.e(n)}finally{t.f()}for(var o=arguments.length,i=new Array(o>1?o-1:0),c=1;c<o;c++)i[c-1]=arguments[c];return f.call.apply(f,[this,r].concat(i))}}}function Dn(n){var r=window.eureka.format;if(!r)return(0,t.z3)("You should inject VM first");if("object"===Mn(n)){window.eureka.blockly=n;var e=n.Procedures.addCreateButton_;n.Procedures.addCreateButton_=function(n,t){for(var a=arguments.length,o=new Array(a>2?a-2:0),i=2;i<a;i++)o[i-2]=arguments[i];e.call.apply(e,[this,n,t].concat(o)),Un(t,n,r)};var a=n.getMainWorkspace();a.getToolbox().refreshSelection(),a.toolboxRefreshEnabled_=!0}else{var o;(0,t.R8)("Cannot find real blockly instance, try alternative method...");var i=null===(o=window.Blockly)||void 0===o||null===(o=o.getMainWorkspace())||void 0===o||null===(o=o.toolboxCategoryCallbacks_)||void 0===o?void 0:o.PROCEDURE;if("function"!=typeof i)return void(0,t.z3)("alternative method failed, stop injecting");window.Blockly.getMainWorkspace().toolboxCategoryCallbacks_.PROCEDURE=function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];var o=i.call.apply(i,[this,n].concat(t));return Un(o,n,r),o};var c=window.Blockly.getMainWorkspace();c.getToolbox().refreshSelection(),c.toolboxRefreshEnabled_=!0}}function Un(n,r,e){var t=document.createElement("sep");t.setAttribute("gap","36"),n.push(t);var a=document.createElement("label");a.setAttribute("text","💡 Eureka"),n.push(a);var o=document.createElement("button");o.setAttribute("text",e("eureka.openDocs")),o.setAttribute("callbackKey","EUREKA_DOCS"),r.registerButtonCallback("EUREKA_DOCS",(function(){window.open("https://kokofixcomputers.gitbook.io/eureka-docs-unofficial","_blank")})),n.push(o);var i=document.createElement("button");i.setAttribute("text",e("eureka.openFrontend")),i.setAttribute("callbackKey","EUREKA_FRONTEND"),r.registerButtonCallback("EUREKA_FRONTEND",(function(){window.eureka.openFrontend()})),n.push(i);var c=document.createElement("button");c.setAttribute("text",e("eureka.sideload")),c.setAttribute("callbackKey","EUREKA_SIDELOAD_FROM_URL"),r.registerButtonCallback("EUREKA_SIDELOAD_FROM_URL",(function(){var n=prompt(e("eureka.enterURL"));if(n){var r=confirm(e("eureka.loadInSandbox"))?"sandboxed":"unsandboxed";window.eureka.loader.load(n,r)}})),n.push(c);var l=document.createElement("button");l.setAttribute("text",e("eureka.sideloadTemporarily")),l.setAttribute("callbackKey","EUREKA_SIDELOAD_FROM_FILE_TEMPORAILY"),r.registerButtonCallback("EUREKA_SIDELOAD_FROM_FILE_TEMPORAILY",(function(){if(confirm(e("eureka.exprimentalFileWarning"))){var n=document.createElement("input");n.setAttribute("type","file"),n.setAttribute("accept",".js"),n.setAttribute("multiple","true"),n.addEventListener("change",function(){var n=jn(On().mark((function n(r){var t,a,o,i,c,l;return On().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=r.target.files){n.next=3;break}return n.abrupt("return");case 3:a=kn(t),n.prev=4,a.s();case 6:if((o=a.n()).done){n.next=18;break}return i=o.value,c=URL.createObjectURL(i),l=confirm(e("eureka.loadInSandbox"))?"sandboxed":"unsandboxed",n.prev=10,n.next=13,window.eureka.loader.load(c,l);case 13:return n.prev=13,URL.revokeObjectURL(c),n.finish(13);case 16:n.next=6;break;case 18:n.next=23;break;case 20:n.prev=20,n.t0=n.catch(4),a.e(n.t0);case 23:return n.prev=23,a.f(),n.finish(23);case 26:case"end":return n.stop()}}),n,null,[[4,20,23,26],[10,,13,16]])})));return function(r){return n.apply(this,arguments)}}()),n.click()}})),n.push(l);var u=document.createElement("mutation");u.setAttribute("eureka","installed");var s=document.createElement("field");s.setAttribute("name","VALUE"),s.innerHTML="🧐 Eureka?";var f=document.createElement("block");return f.setAttribute("type","argument_reporter_boolean"),f.setAttribute("gap","16"),f.appendChild(s),f.appendChild(u),n.push(f),n}},510:(n,r,e)=>{"use strict";function t(){for(var n,r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];(n=console).log.apply(n,["%c💡 Eureka"," background-color: #fecd00; border-radius: 1rem; margin-right: 0.25rem; padding: 0 0.5rem; color: #271919;"].concat(e))}function a(){for(var n,r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];(n=console).warn.apply(n,["%c🎃 Eureka"," background-color: #fecd00; border-radius: 1rem; margin-right: 0.25rem; padding: 0 0.5rem; color: #271919;"].concat(e))}function o(){for(var n,r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];(n=console).error.apply(n,["%c🚨 Eureka"," background-color: #FE4B00; border-radius: 1rem; margin-right: 0.25rem; padding: 0 0.5rem; color: #271919;"].concat(e))}e.d(r,{R8:()=>a,Rm:()=>t,z3:()=>o})},183:n=>{"use strict";n.exports=function(n,r,e,t){var a=self||window;try{try{var o;try{o=new a.Blob([n])}catch(r){(o=new(a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||a.MSBlobBuilder)).append(n),o=o.getBlob()}var i=a.URL||a.webkitURL,c=i.createObjectURL(o),l=new a[r](c,e);return i.revokeObjectURL(c),l}catch(t){return new a[r]("data:application/javascript,".concat(encodeURIComponent(n)),e)}}catch(n){if(!t)throw Error("Inline worker is not supported");return new a[r](t,e)}}},541:n=>{var r="long",e="short",t="narrow",a="numeric",o="2-digit";n.exports={number:{decimal:{style:"decimal"},integer:{style:"decimal",maximumFractionDigits:0},currency:{style:"currency",currency:"USD"},percent:{style:"percent"},default:{style:"decimal"}},date:{short:{month:a,day:a,year:o},medium:{month:e,day:a,year:a},long:{month:r,day:a,year:a},full:{month:r,day:a,year:a,weekday:r},default:{month:e,day:a,year:a}},time:{short:{hour:a,minute:a},medium:{hour:a,minute:a,second:a},long:{hour:a,minute:a,second:a,timeZoneName:e},full:{hour:a,minute:a,second:a,timeZoneName:e},default:{hour:a,minute:a,second:a}},duration:{default:{hours:{minimumIntegerDigits:1,maximumFractionDigits:0},minutes:{minimumIntegerDigits:2,maximumFractionDigits:0},seconds:{minimumIntegerDigits:2,maximumFractionDigits:3}}},parseNumberPattern:function(n){if(n){var r={},e=n.match(/\b[A-Z]{3}\b/i),t=n.replace(/[^¤]/g,"").length;if(!t&&e&&(t=1),t?(r.style="currency",r.currencyDisplay=1===t?"symbol":2===t?"code":"name",r.currency=e?e[0].toUpperCase():"USD"):n.indexOf("%")>=0&&(r.style="percent"),!/[@#0]/.test(n))return r.style?r:void 0;if(r.useGrouping=n.indexOf(",")>=0,/E\+?[@#0]+/i.test(n)||n.indexOf("@")>=0){var a=n.replace(/E\+?[@#0]+|[^@#0]/gi,"");r.minimumSignificantDigits=Math.min(Math.max(a.replace(/[^@0]/g,"").length,1),21),r.maximumSignificantDigits=Math.min(Math.max(a.length,1),21)}else{for(var o=n.replace(/[^#0.]/g,"").split("."),i=o[0],c=i.length-1;"0"===i[c];)--c;r.minimumIntegerDigits=Math.min(Math.max(i.length-1-c,1),21);var l=o[1]||"";for(c=0;"0"===l[c];)++c;for(r.minimumFractionDigits=Math.min(Math.max(c,0),20);"#"===l[c];)++c;r.maximumFractionDigits=Math.min(Math.max(c,0),20)}return r}},parseDatePattern:function(n){if(n){for(var i={},c=0;c<n.length;){for(var l=n[c],u=1;n[++c]===l;)++u;switch(l){case"G":i.era=5===u?t:4===u?r:e;break;case"y":case"Y":i.year=2===u?o:a;break;case"M":case"L":u=Math.min(Math.max(u-1,0),4),i.month=[a,o,e,r,t][u];break;case"E":case"e":case"c":i.weekday=5===u?t:4===u?r:e;break;case"d":case"D":i.day=2===u?o:a;break;case"h":case"K":i.hour12=!0,i.hour=2===u?o:a;break;case"H":case"k":i.hour12=!1,i.hour=2===u?o:a;break;case"m":i.minute=2===u?o:a;break;case"s":case"S":i.second=2===u?o:a;break;case"z":case"Z":case"v":case"V":i.timeZoneName=1===u?e:r}}return Object.keys(i).length?i:void 0}}}},280:(n,r,e)=>{"use strict";var t=e(541),a=e(450),o=e(235);function i(n,r,e,t,a){var o=n.map((function(n){return function(n,r,e,t,a){if("string"==typeof n){var o=n;return function(){return o}}var l,u=n[0],s=n[1];if(r&&"#"===n[0]){u=r[0];var f=r[2],h=(t.number||d.number)([u,"number"],e);return function(n){return h(c(u,n)-f,n)}}"plural"===s||"selectordinal"===s?(l={},Object.keys(n[3]).forEach((function(r){l[r]=i(n[3][r],n,e,t,a)})),n=[n[0],n[1],n[2],l]):n[2]&&"object"==typeof n[2]&&(l={},Object.keys(n[2]).forEach((function(r){l[r]=i(n[2][r],n,e,t,a)})),n=[n[0],n[1],l]);var p=s&&(t[s]||d[s]);if(p){var y=p(n,e);return function(n){return y(c(u,n),n)}}return a?function(n){return String(c(u,n))}:function(n){return c(u,n)}}(n,r,e,t,a)}));return a?1===o.length?o[0]:function(n){for(var r="",e=0;e<o.length;++e)r+=o[e](n);return r}:function(n){return o.reduce((function(r,e){return r.concat(e(n))}),[])}}function c(n,r){if(r&&n in r)return r[n];for(var e=n.split("."),t=r,a=0,o=e.length;t&&a<o;++a)t=t[e[a]];return t}function l(n,r){var e=n[2],a=t.number[e]||t.parseNumberPattern(e)||t.number.default;return new Intl.NumberFormat(r,a).format}function u(n,r){var e=n[1],a=n[2],o=t[e][a]||t.parseDatePattern(a)||t[e].default;return new Intl.DateTimeFormat(r,o).format}function s(n,r){var e,t="selectordinal"===n[1]?"ordinal":"cardinal",i=n[2],c=n[3];if(Intl.PluralRules&&Intl.PluralRules.supportedLocalesOf(r).length>0)e=new Intl.PluralRules(r,{type:t});else{var l=a(r,o),u=l&&o[l][t]||f;e={select:u}}return function(n,r){return(c["="+ +n]||c[e.select(n-i)]||c.other)(r)}}function f(){return"other"}(r=n.exports=function(n,r,e){return i(n,null,r||"en",e||{},!0)}).toParts=function(n,r,e){return i(n,null,r||"en",e||{},!1)};var d={number:l,ordinal:l,spellout:l,duration:function(n,r){var e=n[2],a=t.duration[e]||t.duration.default,o=new Intl.NumberFormat(r,a.seconds).format,i=new Intl.NumberFormat(r,a.minutes).format,c=new Intl.NumberFormat(r,a.hours).format,l=/^fi$|^fi-|^da/.test(String(r))?".":":";return function(n,r){if(n=+n,!isFinite(n))return o(n);var e=~~(n/60/60),t=~~(n/60%60),a=(e?c(Math.abs(e))+l:"")+i(Math.abs(t))+l+o(Math.abs(n%60));return n<0?c(-1).replace(c(1),a):a}},date:u,time:u,plural:s,selectordinal:s,select:function(n,r){var e=n[2];return function(n,r){return(e[n]||e.other)(r)}}};r.types=d},235:n=>{"use strict";var r="zero",e="one",t="two",a="few",o="many",i="other",c=[function(n){return 1==+n?e:i},function(n){var r=+n;return 0<=r&&r<=1?e:i},function(n){return 0===Math.floor(Math.abs(+n))||1==+n?e:i},function(n){var c=+n;return 0===c?r:1===c?e:2===c?t:3<=c%100&&c%100<=10?a:11<=c%100&&c%100<=99?o:i},function(n){var r=Math.floor(Math.abs(+n)),t=(n+".").split(".")[1].length;return 1===r&&0===t?e:i},function(n){var r=+n;return r%10==1&&r%100!=11?e:2<=r%10&&r%10<=4&&(r%100<12||14<r%100)?a:r%10==0||5<=r%10&&r%10<=9||11<=r%100&&r%100<=14?o:i},function(n){var r=+n;return r%10==1&&r%100!=11&&r%100!=71&&r%100!=91?e:r%10==2&&r%100!=12&&r%100!=72&&r%100!=92?t:(3<=r%10&&r%10<=4||r%10==9)&&(r%100<10||19<r%100)&&(r%100<70||79<r%100)&&(r%100<90||99<r%100)?a:0!==r&&r%1e6==0?o:i},function(n){var r=Math.floor(Math.abs(+n)),t=(n+".").split(".")[1].length,o=+(n+".").split(".")[1];return 0===t&&r%10==1&&r%100!=11||o%10==1&&o%100!=11?e:0===t&&2<=r%10&&r%10<=4&&(r%100<12||14<r%100)||2<=o%10&&o%10<=4&&(o%100<12||14<o%100)?a:i},function(n){var r=Math.floor(Math.abs(+n)),t=(n+".").split(".")[1].length;return 1===r&&0===t?e:2<=r&&r<=4&&0===t?a:0!==t?o:i},function(n){var c=+n;return 0===c?r:1===c?e:2===c?t:3===c?a:6===c?o:i},function(n){var r=Math.floor(Math.abs(+n)),t=+(""+n).replace(/^[^.]*.?|0+$/g,"");return 1==+n||0!==t&&(0===r||1===r)?e:i},function(n){var r=Math.floor(Math.abs(+n)),o=(n+".").split(".")[1].length,c=+(n+".").split(".")[1];return 0===o&&r%100==1||c%100==1?e:0===o&&r%100==2||c%100==2?t:0===o&&3<=r%100&&r%100<=4||3<=c%100&&c%100<=4?a:i},function(n){var r=Math.floor(Math.abs(+n));return 0===r||1===r?e:i},function(n){var r=Math.floor(Math.abs(+n)),t=(n+".").split(".")[1].length,a=+(n+".").split(".")[1];return 0===t&&(1===r||2===r||3===r)||0===t&&r%10!=4&&r%10!=6&&r%10!=9||0!==t&&a%10!=4&&a%10!=6&&a%10!=9?e:i},function(n){var r=+n;return 1===r?e:2===r?t:3<=r&&r<=6?a:7<=r&&r<=10?o:i},function(n){var r=+n;return 1===r||11===r?e:2===r||12===r?t:3<=r&&r<=10||13<=r&&r<=19?a:i},function(n){var r=Math.floor(Math.abs(+n)),c=(n+".").split(".")[1].length;return 0===c&&r%10==1?e:0===c&&r%10==2?t:0!==c||r%100!=0&&r%100!=20&&r%100!=40&&r%100!=60&&r%100!=80?0!==c?o:i:a},function(n){var r=Math.floor(Math.abs(+n)),a=(n+".").split(".")[1].length,c=+n;return 1===r&&0===a?e:2===r&&0===a?t:0===a&&(c<0||10<c)&&c%10==0?o:i},function(n){var r=Math.floor(Math.abs(+n)),t=+(""+n).replace(/^[^.]*.?|0+$/g,"");return 0===t&&r%10==1&&r%100!=11||0!==t?e:i},function(n){var r=+n;return 1===r?e:2===r?t:i},function(n){var t=+n;return 0===t?r:1===t?e:i},function(n){var t=Math.floor(Math.abs(+n)),a=+n;return 0===a?r:0!==t&&1!==t||0===a?i:e},function(n){var r=+(n+".").split(".")[1],t=+n;return t%10==1&&(t%100<11||19<t%100)?e:2<=t%10&&t%10<=9&&(t%100<11||19<t%100)?a:0!==r?o:i},function(n){var t=(n+".").split(".")[1].length,a=+(n+".").split(".")[1],o=+n;return o%10==0||11<=o%100&&o%100<=19||2===t&&11<=a%100&&a%100<=19?r:o%10==1&&o%100!=11||2===t&&a%10==1&&a%100!=11||2!==t&&a%10==1?e:i},function(n){var r=Math.floor(Math.abs(+n)),t=(n+".").split(".")[1].length,a=+(n+".").split(".")[1];return 0===t&&r%10==1&&r%100!=11||a%10==1&&a%100!=11?e:i},function(n){var r=Math.floor(Math.abs(+n)),t=(n+".").split(".")[1].length,o=+n;return 1===r&&0===t?e:0!==t||0===o||1!==o&&1<=o%100&&o%100<=19?a:i},function(n){var r=+n;return 1===r?e:0===r||2<=r%100&&r%100<=10?a:11<=r%100&&r%100<=19?o:i},function(n){var r=Math.floor(Math.abs(+n)),t=(n+".").split(".")[1].length;return 1===r&&0===t?e:0===t&&2<=r%10&&r%10<=4&&(r%100<12||14<r%100)?a:0===t&&1!==r&&0<=r%10&&r%10<=1||0===t&&5<=r%10&&r%10<=9||0===t&&12<=r%100&&r%100<=14?o:i},function(n){var r=Math.floor(Math.abs(+n));return 0<=r&&r<=1?e:i},function(n){var r=Math.floor(Math.abs(+n)),t=(n+".").split(".")[1].length;return 0===t&&r%10==1&&r%100!=11?e:0===t&&2<=r%10&&r%10<=4&&(r%100<12||14<r%100)?a:0===t&&r%10==0||0===t&&5<=r%10&&r%10<=9||0===t&&11<=r%100&&r%100<=14?o:i},function(n){var r=+n;return 0===Math.floor(Math.abs(+n))||1===r?e:2<=r&&r<=10?a:i},function(n){var r=Math.floor(Math.abs(+n)),t=+(n+".").split(".")[1],a=+n;return 0===a||1===a||0===r&&1===t?e:i},function(n){var r=Math.floor(Math.abs(+n)),o=(n+".").split(".")[1].length;return 0===o&&r%100==1?e:0===o&&r%100==2?t:0===o&&3<=r%100&&r%100<=4||0!==o?a:i},function(n){var r=+n;return 0<=r&&r<=1||11<=r&&r<=99?e:i},function(n){var r=+n;return 1===r||5===r||7===r||8===r||9===r||10===r?e:2===r||3===r?t:4===r?a:6===r?o:i},function(n){var r=Math.floor(Math.abs(+n));return r%10==1||r%10==2||r%10==5||r%10==7||r%10==8||r%100==20||r%100==50||r%100==70||r%100==80?e:r%10==3||r%10==4||r%1e3==100||r%1e3==200||r%1e3==300||r%1e3==400||r%1e3==500||r%1e3==600||r%1e3==700||r%1e3==800||r%1e3==900?a:0===r||r%10==6||r%100==40||r%100==60||r%100==90?o:i},function(n){var r=+n;return r%10!=2&&r%10!=3||r%100==12||r%100==13?i:a},function(n){var r=+n;return 1===r||3===r?e:2===r?t:4===r?a:i},function(n){var c=+n;return 0===c||7===c||8===c||9===c?r:1===c?e:2===c?t:3===c||4===c?a:5===c||6===c?o:i},function(n){var r=+n;return r%10==1&&r%100!=11?e:r%10==2&&r%100!=12?t:r%10==3&&r%100!=13?a:i},function(n){var r=+n;return 1===r||11===r?e:2===r||12===r?t:3===r||13===r?a:i},function(n){var r=+n;return 1===r?e:2===r||3===r?t:4===r?a:6===r?o:i},function(n){var r=+n;return 1===r||5===r?e:i},function(n){var r=+n;return 11===r||8===r||80===r||800===r?o:i},function(n){var r=Math.floor(Math.abs(+n));return 1===r?e:0===r||2<=r%100&&r%100<=20||r%100==40||r%100==60||r%100==80?o:i},function(n){var r=+n;return r%10==6||r%10==9||r%10==0&&0!==r?o:i},function(n){var r=Math.floor(Math.abs(+n));return r%10==1&&r%100!=11?e:r%10==2&&r%100!=12?t:r%10!=7&&r%10!=8||r%100==17||r%100==18?i:o},function(n){var r=+n;return 1===r?e:2===r||3===r?t:4===r?a:i},function(n){var r=+n;return 1<=r&&r<=4?e:i},function(n){var r=+n;return 1===r||5===r||7<=r&&r<=9?e:2===r||3===r?t:4===r?a:6===r?o:i},function(n){var r=+n;return 1===r?e:r%10==4&&r%100!=14?o:i},function(n){var r=+n;return r%10!=1&&r%10!=2||r%100==11||r%100==12?i:e},function(n){var r=+n;return r%10==6||r%10==9||10===r?a:i},function(n){var r=+n;return r%10==3&&r%100!=13?a:i}];n.exports={af:{cardinal:c[0]},ak:{cardinal:c[1]},am:{cardinal:c[2]},ar:{cardinal:c[3]},ars:{cardinal:c[3]},as:{cardinal:c[2],ordinal:c[34]},asa:{cardinal:c[0]},ast:{cardinal:c[4]},az:{cardinal:c[0],ordinal:c[35]},be:{cardinal:c[5],ordinal:c[36]},bem:{cardinal:c[0]},bez:{cardinal:c[0]},bg:{cardinal:c[0]},bh:{cardinal:c[1]},bn:{cardinal:c[2],ordinal:c[34]},br:{cardinal:c[6]},brx:{cardinal:c[0]},bs:{cardinal:c[7]},ca:{cardinal:c[4],ordinal:c[37]},ce:{cardinal:c[0]},cgg:{cardinal:c[0]},chr:{cardinal:c[0]},ckb:{cardinal:c[0]},cs:{cardinal:c[8]},cy:{cardinal:c[9],ordinal:c[38]},da:{cardinal:c[10]},de:{cardinal:c[4]},dsb:{cardinal:c[11]},dv:{cardinal:c[0]},ee:{cardinal:c[0]},el:{cardinal:c[0]},en:{cardinal:c[4],ordinal:c[39]},eo:{cardinal:c[0]},es:{cardinal:c[0]},et:{cardinal:c[4]},eu:{cardinal:c[0]},fa:{cardinal:c[2]},ff:{cardinal:c[12]},fi:{cardinal:c[4]},fil:{cardinal:c[13],ordinal:c[0]},fo:{cardinal:c[0]},fr:{cardinal:c[12],ordinal:c[0]},fur:{cardinal:c[0]},fy:{cardinal:c[4]},ga:{cardinal:c[14],ordinal:c[0]},gd:{cardinal:c[15],ordinal:c[40]},gl:{cardinal:c[4]},gsw:{cardinal:c[0]},gu:{cardinal:c[2],ordinal:c[41]},guw:{cardinal:c[1]},gv:{cardinal:c[16]},ha:{cardinal:c[0]},haw:{cardinal:c[0]},he:{cardinal:c[17]},hi:{cardinal:c[2],ordinal:c[41]},hr:{cardinal:c[7]},hsb:{cardinal:c[11]},hu:{cardinal:c[0],ordinal:c[42]},hy:{cardinal:c[12],ordinal:c[0]},ia:{cardinal:c[4]},io:{cardinal:c[4]},is:{cardinal:c[18]},it:{cardinal:c[4],ordinal:c[43]},iu:{cardinal:c[19]},iw:{cardinal:c[17]},jgo:{cardinal:c[0]},ji:{cardinal:c[4]},jmc:{cardinal:c[0]},ka:{cardinal:c[0],ordinal:c[44]},kab:{cardinal:c[12]},kaj:{cardinal:c[0]},kcg:{cardinal:c[0]},kk:{cardinal:c[0],ordinal:c[45]},kkj:{cardinal:c[0]},kl:{cardinal:c[0]},kn:{cardinal:c[2]},ks:{cardinal:c[0]},ksb:{cardinal:c[0]},ksh:{cardinal:c[20]},ku:{cardinal:c[0]},kw:{cardinal:c[19]},ky:{cardinal:c[0]},lag:{cardinal:c[21]},lb:{cardinal:c[0]},lg:{cardinal:c[0]},ln:{cardinal:c[1]},lt:{cardinal:c[22]},lv:{cardinal:c[23]},mas:{cardinal:c[0]},mg:{cardinal:c[1]},mgo:{cardinal:c[0]},mk:{cardinal:c[24],ordinal:c[46]},ml:{cardinal:c[0]},mn:{cardinal:c[0]},mo:{cardinal:c[25],ordinal:c[0]},mr:{cardinal:c[2],ordinal:c[47]},mt:{cardinal:c[26]},nah:{cardinal:c[0]},naq:{cardinal:c[19]},nb:{cardinal:c[0]},nd:{cardinal:c[0]},ne:{cardinal:c[0],ordinal:c[48]},nl:{cardinal:c[4]},nn:{cardinal:c[0]},nnh:{cardinal:c[0]},no:{cardinal:c[0]},nr:{cardinal:c[0]},nso:{cardinal:c[1]},ny:{cardinal:c[0]},nyn:{cardinal:c[0]},om:{cardinal:c[0]},or:{cardinal:c[0],ordinal:c[49]},os:{cardinal:c[0]},pa:{cardinal:c[1]},pap:{cardinal:c[0]},pl:{cardinal:c[27]},prg:{cardinal:c[23]},ps:{cardinal:c[0]},pt:{cardinal:c[28]},"pt-PT":{cardinal:c[4]},rm:{cardinal:c[0]},ro:{cardinal:c[25],ordinal:c[0]},rof:{cardinal:c[0]},ru:{cardinal:c[29]},rwk:{cardinal:c[0]},saq:{cardinal:c[0]},sc:{cardinal:c[4],ordinal:c[43]},scn:{cardinal:c[4],ordinal:c[43]},sd:{cardinal:c[0]},sdh:{cardinal:c[0]},se:{cardinal:c[19]},seh:{cardinal:c[0]},sh:{cardinal:c[7]},shi:{cardinal:c[30]},si:{cardinal:c[31]},sk:{cardinal:c[8]},sl:{cardinal:c[32]},sma:{cardinal:c[19]},smi:{cardinal:c[19]},smj:{cardinal:c[19]},smn:{cardinal:c[19]},sms:{cardinal:c[19]},sn:{cardinal:c[0]},so:{cardinal:c[0]},sq:{cardinal:c[0],ordinal:c[50]},sr:{cardinal:c[7]},ss:{cardinal:c[0]},ssy:{cardinal:c[0]},st:{cardinal:c[0]},sv:{cardinal:c[4],ordinal:c[51]},sw:{cardinal:c[4]},syr:{cardinal:c[0]},ta:{cardinal:c[0]},te:{cardinal:c[0]},teo:{cardinal:c[0]},ti:{cardinal:c[1]},tig:{cardinal:c[0]},tk:{cardinal:c[0],ordinal:c[52]},tl:{cardinal:c[13],ordinal:c[0]},tn:{cardinal:c[0]},tr:{cardinal:c[0]},ts:{cardinal:c[0]},tzm:{cardinal:c[33]},ug:{cardinal:c[0]},uk:{cardinal:c[29],ordinal:c[53]},ur:{cardinal:c[4]},uz:{cardinal:c[0]},ve:{cardinal:c[0]},vo:{cardinal:c[0]},vun:{cardinal:c[0]},wa:{cardinal:c[1]},wae:{cardinal:c[0]},xh:{cardinal:c[0]},xog:{cardinal:c[0]},yi:{cardinal:c[4]},zu:{cardinal:c[2]},lo:{ordinal:c[0]},ms:{ordinal:c[0]},vi:{ordinal:c[0]}}},194:(n,r)=>{"use strict";var e="{",t="}",a=",",o="#",i="<",c=">",l="</",u="/>",s="'",f="offset:",d=["number","date","time","ordinal","duration","spellout"],h=["plural","select","selectordinal"];function p(n,r){var e=n.pattern,a=e.length,o=[],i=n.index,c=y(n,r);for(c&&o.push(c),c&&n.tokens&&n.tokens.push(["text",e.slice(i,n.index)]);n.index<a;){if(e[n.index]===t){if(!r)throw E(n);break}if(r&&n.tagsType&&e.slice(n.index,n.index+l.length)===l)break;o.push(b(n)),i=n.index,(c=y(n,r))&&o.push(c),c&&n.tokens&&n.tokens.push(["text",e.slice(i,n.index)])}return o}function y(n,r){for(var a=n.pattern,c=a.length,l="plural"===r||"selectordinal"===r,u=!!n.tagsType,f="{style}"===r,d="";n.index<c;){var h=a[n.index];if(h===e||h===t||l&&h===o||u&&h===i||f&&m(h.charCodeAt(0)))break;if(h===s)if((h=a[++n.index])===s)d+=h,++n.index;else if(h===e||h===t||l&&h===o||u&&h===i||f)for(d+=h;++n.index<c;)if((h=a[n.index])===s&&a[n.index+1]===s)d+=s,++n.index;else{if(h===s){++n.index;break}d+=h}else d+=s;else d+=h,++n.index}return d}function m(n){return n>=9&&n<=13||32===n||133===n||160===n||6158===n||n>=8192&&n<=8205||8232===n||8233===n||8239===n||8287===n||8288===n||12288===n||65279===n}function v(n){for(var r=n.pattern,e=r.length,t=n.index;n.index<e&&m(r.charCodeAt(n.index));)++n.index;t<n.index&&n.tokens&&n.tokens.push(["space",n.pattern.slice(t,n.index)])}function b(n){var r=n.pattern;if(r[n.index]===o)return n.tokens&&n.tokens.push(["syntax",o]),++n.index,[o];var s=function(n){var r=n.tagsType;if(r&&n.pattern[n.index]===i){if(n.pattern.slice(n.index,n.index+l.length)===l)throw E(n,null,"closing tag without matching opening tag");n.tokens&&n.tokens.push(["syntax",i]),++n.index;var e=g(n,!0);if(!e)throw E(n,"placeholder id");if(n.tokens&&n.tokens.push(["id",e]),v(n),n.pattern.slice(n.index,n.index+u.length)===u)return n.tokens&&n.tokens.push(["syntax",u]),n.index+=u.length,[e,r];if(n.pattern[n.index]!==c)throw E(n,c);n.tokens&&n.tokens.push(["syntax",c]),++n.index;var t=p(n,r),a=n.index;if(n.pattern.slice(n.index,n.index+l.length)!==l)throw E(n,l+e+c);n.tokens&&n.tokens.push(["syntax",l]),n.index+=l.length;var o=g(n,!0);if(o&&n.tokens&&n.tokens.push(["id",o]),e!==o)throw n.index=a,E(n,l+e+c,l+o+c);if(v(n),n.pattern[n.index]!==c)throw E(n,c);return n.tokens&&n.tokens.push(["syntax",c]),++n.index,[e,r,{children:t}]}}(n);if(s)return s;if(r[n.index]!==e)throw E(n,e);n.tokens&&n.tokens.push(["syntax",e]),++n.index,v(n);var h=g(n);if(!h)throw E(n,"placeholder id");n.tokens&&n.tokens.push(["id",h]),v(n);var y=r[n.index];if(y===t)return n.tokens&&n.tokens.push(["syntax",t]),++n.index,[h];if(y!==a)throw E(n,a+" or "+t);n.tokens&&n.tokens.push(["syntax",a]),++n.index,v(n);var m,b=g(n);if(!b)throw E(n,"placeholder type");if(n.tokens&&n.tokens.push(["type",b]),v(n),(y=r[n.index])===t){if(n.tokens&&n.tokens.push(["syntax",t]),"plural"===b||"selectordinal"===b||"select"===b)throw E(n,b+" sub-messages");return++n.index,[h,b]}if(y!==a)throw E(n,a+" or "+t);if(n.tokens&&n.tokens.push(["syntax",a]),++n.index,v(n),"plural"===b||"selectordinal"===b){var k=function(n){var r,e=n.pattern,t=e.length,a=0;if(e.slice(n.index,n.index+f.length)===f){n.tokens&&n.tokens.push(["offset","offset"],["syntax",":"]),n.index+=f.length,v(n);for(var o=n.index;n.index<t&&((r=e.charCodeAt(n.index))>=48&&r<=57);)++n.index;if(o===n.index)throw E(n,"offset number");n.tokens&&n.tokens.push(["number",e.slice(o,n.index)]),a=+e.slice(o,n.index)}return a}(n);v(n),m=[h,b,k,x(n,b)]}else if("select"===b)m=[h,b,x(n,b)];else if(d.indexOf(b)>=0)m=[h,b,w(n)];else{var S=n.index,O=w(n);v(n),r[n.index]===e&&(n.index=S,O=x(n,b)),m=[h,b,O]}if(v(n),r[n.index]!==t)throw E(n,t);return n.tokens&&n.tokens.push(["syntax",t]),++n.index,m}function g(n,r){for(var l=n.pattern,u=l.length,f="";n.index<u;){var d=l[n.index];if(d===e||d===t||d===a||d===o||d===s||m(d.charCodeAt(0))||r&&(d===i||d===c||"/"===d))break;f+=d,++n.index}return f}function w(n){var r=n.index,e=y(n,"{style}");if(!e)throw E(n,"placeholder style name");return n.tokens&&n.tokens.push(["style",n.pattern.slice(r,n.index)]),e}function x(n,r){for(var e=n.pattern,a=e.length,o={};n.index<a&&e[n.index]!==t;){var i=g(n);if(!i)throw E(n,"sub-message selector");n.tokens&&n.tokens.push(["selector",i]),v(n),o[i]=k(n,r),v(n)}if(!o.other&&h.indexOf(r)>=0)throw E(n,null,null,'"other" sub-message must be specified in '+r);return o}function k(n,r){if(n.pattern[n.index]!==e)throw E(n,e+" to start sub-message");n.tokens&&n.tokens.push(["syntax",e]),++n.index;var a=p(n,r);if(n.pattern[n.index]!==t)throw E(n,t+" to end sub-message");return n.tokens&&n.tokens.push(["syntax",t]),++n.index,a}function E(n,r,e,t){var a=n.pattern,o=a.slice(0,n.index).split(/\r?\n/),i=n.index,c=o.length,l=o.slice(-1)[0].length;return e=e||(n.index>=a.length?"end of message pattern":g(n)||a[n.index]),t||(t=function(n,r){return n?"Expected "+n+" but found "+r:"Unexpected "+r+" found"}(r,e)),new S(t+=" in "+a.replace(/\r?\n/g,"\n"),r,e,i,c,l)}function S(n,r,e,t,a,o){Error.call(this,n),this.name="SyntaxError",this.message=n,this.expected=r,this.found=e,this.offset=t,this.line=a,this.column=o}r=n.exports=function(n,r){return p({pattern:String(n),index:0,tagsType:r&&r.tagsType||null,tokens:r&&r.tokens||null},"")},S.prototype=Object.create(Error.prototype),r.SyntaxError=S},132:(n,r,e)=>{"use strict";var t=e(194),a=e(280),o=e(235),i=e(450),c=e(541);function l(n,r){return Object.keys(r).forEach((function(e){n[e]=r[e]})),n}n.exports=function n(){var r=l({},c),e="en",u={},s=function(n){return n},f=null,d="warning",h={};function p(n,r,o){var i="string"==typeof n?n:n.default,c=v(i,"object"==typeof n&&n.id||s(i),o||e);return(c.format||(c.format=a(t(c.message),o||e,h)))(r)}p.rich=function(n,r,o){var i="string"==typeof n?n:n.default,c=v(i,"object"==typeof n&&n.id||s(i),o||e);return(c.toParts||(c.toParts=a.toParts(t(c.message,{tagsType:y}),o||e,h)))(r)};var y="<>";function m(n,r){var e=n[2];return function(n,r){var t="object"==typeof e?function(n,r){return Object.keys(n).reduce((function(e,t){return e[t]=n[t](r),e}),{})}(e,r):e;return"function"==typeof n?n(t):n}}function v(n,r,e){var t=i(e,u)||"en",a=u[t]||(u[t]={}),o=a[r];if("string"==typeof o&&(o=a[r]={message:o}),!o){var c='Translation for "'+r+'" in "'+t+'" is missing';if("warning"===d)"undefined"!=typeof console&&console.warn(c);else if("ignore"!==d)throw new Error(c);var l="function"==typeof f?f(n,r,t)||n:f||n;o=a[r]={message:l}}return o}function b(n,r,t,a,c){"object"==typeof t&&"object"!=typeof a&&(c=a,a=t,t=0);var l=i(c||e,o),u=l&&o[l][n]||g;return a["="+ +r]||a[u(r-t)]||a.other}function g(){return"other"}return h[y]=m,p.setup=function(n){return(n=n||{}).locale&&(e=n.locale),"translations"in n&&(u=n.translations||{}),n.generateId&&(s=n.generateId),"missingReplacement"in n&&(f=n.missingReplacement),n.missingTranslation&&(d=n.missingTranslation),n.formats&&(n.formats.number&&l(r.number,n.formats.number),n.formats.date&&l(r.date,n.formats.date),n.formats.time&&l(r.time,n.formats.time)),n.types&&((h=n.types)[y]=m),{locale:e,translations:u,generateId:s,missingReplacement:f,missingTranslation:d,formats:r,types:h}},p.number=function(n,t,a){var o=t&&r.number[t]||r.parseNumberPattern(t)||r.number.default;return new Intl.NumberFormat(a||e,o).format(n)},p.date=function(n,t,a){var o=t&&r.date[t]||r.parseDatePattern(t)||r.date.default;return new Intl.DateTimeFormat(a||e,o).format(n)},p.time=function(n,t,a){var o=t&&r.time[t]||r.parseDatePattern(t)||r.time.default;return new Intl.DateTimeFormat(a||e,o).format(n)},p.select=function(n,r){return r[n]||r.other},p.custom=function(n,r,e,t){return n[1]in h?h[n[1]](n,r)(e,t):e},p.plural=b.bind(null,"cardinal"),p.selectordinal=b.bind(null,"ordinal"),p.namespace=n,p}()},450:n=>{n.exports=function(n,r){if("string"==typeof n&&r[n])return n;for(var e=[].concat(n||[]),t=0,a=e.length;t<a;++t)for(var o=e[t].split("-");o.length;){var i=o.join("-");if(r[i])return i;o.pop()}}}},c={};function l(n){var r=c[n];if(void 0!==r)return r.exports;var e=c[n]={exports:{}};return i[n](e,e.exports,l),e.exports}n="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",r="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",e="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",t=n=>{n&&n.d<1&&(n.d=1,n.forEach((n=>n.r--)),n.forEach((n=>n.r--?n.r++:n())))},l.a=(a,o,i)=>{var c;i&&((c=[]).d=-1);var l,u,s,f=new Set,d=a.exports,h=new Promise(((n,r)=>{s=r,u=n}));h[r]=d,h[n]=n=>(c&&n(c),f.forEach(n),h.catch((n=>{}))),a.exports=h,o((a=>{var o;l=(a=>a.map((a=>{if(null!==a&&"object"==typeof a){if(a[n])return a;if(a.then){var o=[];o.d=0,a.then((n=>{i[r]=n,t(o)}),(n=>{i[e]=n,t(o)}));var i={};return i[n]=n=>n(o),i}}var c={};return c[n]=n=>{},c[r]=a,c})))(a);var i=()=>l.map((n=>{if(n[e])throw n[e];return n[r]})),u=new Promise((r=>{(o=()=>r(i)).r=0;var e=n=>n!==c&&!f.has(n)&&(f.add(n),n&&!n.d&&(o.r++,n.push(o)));l.map((r=>r[n](e)))}));return o.r?u:i()}),(n=>(n?s(h[e]=n):u(d),t(c)))),c&&c.d<0&&(c.d=0)},l.n=n=>{var r=n&&n.__esModule?()=>n.default:()=>n;return l.d(r,{a:r}),r},o=Object.getPrototypeOf?n=>Object.getPrototypeOf(n):n=>n.__proto__,l.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var e=Object.create(null);l.r(e);var t={};a=a||[null,o({}),o([]),o(o)];for(var i=2&r&&n;"object"==typeof i&&!~a.indexOf(i);i=o(i))Object.getOwnPropertyNames(i).forEach((r=>t[r]=()=>n[r]));return t.default=()=>n,l.d(e,t),e},l.d=(n,r)=>{for(var e in r)l.o(r,e)&&!l.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:r[e]})},l.o=(n,r)=>Object.prototype.hasOwnProperty.call(n,r),l.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},l.p="./",l(723)})();